(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,p=[];u<o.length;u++)r=o[u],a[r]&&p.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={2:0},i=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{0:"e44a2c3d"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,s){n=a[t]=[e,s]});e.push(n[2]=s);var i,c=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(t),i=function(e){l.onerror=l.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+i+")");r.type=s,r.request=i,n[1](r)}a[t]=void 0}};var u=setTimeout(function(){i({type:"timeout",target:l})},12e4);l.onerror=l.onload=i,c.appendChild(l)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;i.push([22,1]),n()})({"1Rbe":function(t,e,n){"use strict";var s=n("ajWj"),a=n.n(s);a.a},22:function(t,e,n){t.exports=n("Vtdi")},"2cEd":function(t,e,n){"use strict";var s=n("nfVs"),a=n.n(s);a.a},"3Iqb":function(t,e,n){},"4juU":function(t,e,n){},"5FRv":function(t,e,n){},"6+eD":function(t,e,n){t.exports=n.p+"img/list.c2de026e.svg"},"7CZN":function(t,e,n){t.exports=n.p+"img/users.ef34664a.svg"},"8+Jw":function(t,e,n){},DgDO:function(t,e,n){},"H+y/":function(t,e,n){t.exports=n.p+"img/quickFind.1deaf9c0.svg"},"IF+9":function(t,e,n){"use strict";var s=n("d38g"),a=n.n(s);a.a},JkKM:function(t,e,n){},L6jS:function(t,e,n){t.exports=n.p+"img/keychain.f9c82186.svg"},MYzG:function(t,e,n){t.exports=n.p+"img/logo-final-havr-01.c6d346bd.jpg"},QHyd:function(t,e,n){},RnhZ:function(t,e,n){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(t){var e=i(t);return n(e)}function i(t){var e=s[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(s)},a.resolve=i,t.exports=a,a.id="RnhZ"},S0BH:function(t,e,n){},UpLk:function(t,e,n){"use strict";var s=n("bCEC"),a=n.n(s);a.a},VVnn:function(t,e,n){"use strict";var s=n("YOIe"),a=n.n(s);a.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("VRzm");var s=n("Kw5r"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"nav-open":t.$sidebar.showSidebar}},[n("router-view")],1)},i=[],r={},o=r,c=n("KHd+"),l=Object(c["a"])(o,a,i,!1,null,null,null),u=l.exports,d=n("jE9Z"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("side-bar",[s("template",{slot:"links"},[s("sidebar-link",{attrs:{to:"/quick-find"}},[s("img",{staticClass:"custom-icon",attrs:{src:n("H+y/")}}),s("p",{staticClass:"custom-label"},[t._v("Quick find")])]),s("sidebar-link",{attrs:{to:"/overview"}},[s("img",{staticClass:"custom-icon",attrs:{src:n("gjwi")}}),s("p",{staticClass:"custom-label"},[t._v("Overview")])]),s("sidebar-link",{attrs:{to:"/keychain"}},[s("img",{staticClass:"custom-icon",attrs:{src:n("L6jS")}}),s("p",{staticClass:"custom-label"},[t._v("Keychain")])]),s("sidebar-link",{attrs:{to:"/users"}},[s("img",{staticClass:"custom-icon",attrs:{src:n("7CZN")}}),s("p",{staticClass:"custom-label"},[t._v("Users")])])],1),s("mobile-menu",[s("drop-down",{staticClass:"nav-item",attrs:{title:"5 Notifications","title-classes":"nav-link",icon:"ti-bell"}}),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link"},[s("i",{staticClass:"ti-settings"}),s("p",[t._v("Keychain")])])]),s("li",{staticClass:"divider"})],1)],2),s("div",{staticClass:"main-panel"},[s("top-navbar"),s("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar(e)}}}),s("content-footer")],1)],1)},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[n("div",{staticClass:"container-fluid fixed-header"},[n("ul",{staticClass:"header-content"},[n("li",[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v(t._s(t.routeName))])]),t._m(0),n("li",[n("br"),n("button",{staticClass:"transparent",on:{click:function(e){t.filterShow()}}},[n("drop-down",{attrs:{title:"Filter","title-classes":"nav-link specific-dropdown",icon:""}})],1)]),t._m(1),n("transition",{attrs:{name:"fade"}},[t.showFilters?n("li",{staticClass:"sub-filter"},[n("div",{staticClass:"filter-section"},[n("drop-down",{attrs:{title:"Key group","title-classes":"nav-link specific-dropdown left-margin",icon:""}}),n("drop-down",{attrs:{title:"User group","title-classes":"nav-link specific-dropdown left-margin ",icon:""}}),n("drop-down",{attrs:{title:"Users","title-classes":"nav-link specific-dropdown left-margin",icon:""}}),n("drop-down",{attrs:{title:"Lock status","title-classes":"nav-link specific-dropdown left-margin",icon:""}})],1)]):t._e()])],1),n("button",{staticClass:"navbar-toggler navbar-burger",attrs:{type:"button","aria-expanded":t.$sidebar.showSidebar,"aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[n("span",{staticClass:"navbar-toggler-bar"}),n("span",{staticClass:"navbar-toggler-bar"}),n("span",{staticClass:"navbar-toggler-bar"})]),t._m(2)])])},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"subheader-top"},[n("span",[t._v("Use filters to narrow down to a particular group, status, usersâ€¦")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("div",{staticClass:"selector-item"},[s("p",{staticClass:"item-text"},[s("img",{staticClass:"selector-img",attrs:{src:n("6+eD")}}),t._v(" list ")]),s("p",{staticClass:"item-text"},[s("img",{staticClass:"selector-img",attrs:{src:n("v31x")}}),t._v(" map")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collapse navbar-collapse"},[n("ul",{staticClass:"navbar-nav ml-auto"})])}],v=(n("f3/d"),{computed:{routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)}},data:function(){return{showFilters:!1,activeNotifications:!1}},methods:{capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},filterShow:function(){this.showFilters=!this.showFilters},toggleNotificationDropDown:function(){this.activeNotifications=!this.activeNotifications},closeDropDown:function(){this.activeNotifications=!1},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)}}}),g=v,_=(n("gY9p"),Object(c["a"])(g,h,m,!1,null,null,null)),y=_.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"footer fixed"},[n("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),n("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-between"},[n("nav",[n("ul",[n("li",[n("button",{staticClass:"item-table-selector pointer",class:{activeButton:20===t.store.state.keychain.selectedItemByPage},attrs:{disabled:t.store.state.keychain.rowKeyChain<20},on:{click:function(e){t.setPaginationTable(20)}}},[t._v("20")]),n("button",{staticClass:"item-table-selector pointer",class:{activeButton:50===t.store.state.keychain.selectedItemByPage},attrs:{disabled:t.store.state.keychain.rowKeyChain<50},on:{click:function(e){t.setPaginationTable(50)}}},[t._v("50")]),n("button",{staticClass:"item-table-selector pointer",class:{activeButton:100===t.store.state.keychain.selectedItemByPage},attrs:{disabled:t.store.state.keychain.rowKeyChain<100},on:{click:function(e){t.setPaginationTable(100)}}},[t._v("100")]),t._v(" keys per page\n        ")]),n("li",{staticClass:"fixed-bottom-right"},[t._v("\n          "+t._s(t.store.state.keychain.startPaginationItem)+" - "+t._s(t.store.state.keychain.endPaginationItem)+" of "+t._s(t.store.state.keychain.rowKeyChain)+"\n           "),n("button",{staticClass:"item-table-selector arrow pointer",attrs:{disabled:1===t.store.state.keychain.startPaginationItem},on:{click:function(e){t.move("backward")}}},[n("i",{staticClass:"ti-angle-left grey"})]),n("button",{staticClass:"item-table-selector arrow pointer",on:{click:function(e){t.move("forward")}}},[n("i",{staticClass:"ti-angle-right grey"})])])])]),n("div",{staticClass:"copyright d-flex flex-wrap"})])],1)},k=[],C=(n("ls82"),n("MECJ")),j=new s["default"],w=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_PAGINATION_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_NB_ROW_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("OPEN_DRAWER",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_LOG",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_DETAILS_KEY",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_START_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.$emit("SET_END_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),A=j.$on("SET_PAGINATION_KEYCHAIN",function(t){return W.state.keychain.selectedItemByPage=t}),N=j.$on("SET_NB_ROW_KEYCHAIN",function(t){return W.state.keychain.rowKeyChain=t}),R=j.$on("SET_DETAILS_KEY",function(t){return W.state.keychain.detailsKey=t}),D=j.$on("OPEN_DRAWER",function(t){return W.state.keychain.drawer=t}),P=j.$on("SET_LOG",function(t){return W.state.keychain.keylog=t}),K=j.$on("SET_START_KEYCHAIN",function(t){return W.state.keychain.startPaginationItem=t}),L=j.$on("SET_END_KEYCHAIN",function(t){return W.state.keychain.endPaginationItem=t}),$=(n("Vd3H"),n("iv4g")),Y="https://preprodapi.havr.io",B={login:"/oauth/v1/token",keychain:"/v1/door_locks",doorlocklog:"/v1/lock_logs/door_lock_detail",shared_keys:"/v1/shared_keys",user:"/v1/users/",contact_picture:"/v1/users/profile_picture_for_user"},z=n("yT7P"),H={login:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.login,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(function(t){return t.json().then(function(t){M.account=Object(z["a"])({},t),sessionStorage.setItem("token",t.access_token)})});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveToken:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,sessionStorage.getItem("token");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},M={account:{}},V={getDoorLocks:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.retrieveToken();case 2:return n=t.sent,t.next=5,this.retrieveLockDoor(n);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getSharedK:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.retrieveToken();case 2:return n=t.sent,t.next=5,this.retrieveSharedKeys(n);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveSharedKeys:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.shared_keys,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+e}});case 2:if(n=t.sent,200!==n.status){t.next=9;break}return t.next=6,n.json();case 6:return s=t.sent,console.log(s,"shared"),t.abrupt("return",U.shared_key=Object($["a"])(s));case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveLockDoor:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.keychain,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+e}});case 2:if(n=t.sent,200!==n.status){t.next=10;break}return t.next=6,n.json();case 6:return s=t.sent,t.abrupt("return",U.door_locks=Object($["a"])(s));case 10:return t.abrupt("return",location.href="/#/login");case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLogs:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.retrieveToken();case 2:return n=t.sent,t.next=5,this.retrieveLockDoorLogs(e,n);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveLockDoorLogs:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e,n){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.doorlocklog,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+n},body:JSON.stringify({door_lock:{door_lock_id:parseInt(e)}})});case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,a.sort(function(t,e){return new Date(e.date)-new Date(t.date)}),t.abrupt("return",U.actvityKey=a);case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},U={door_locks:[],shared_key:[],actvityKey:[]},W={state:{keychain:{selectedItemByPage:20,startPaginationItem:1,endPaginationItem:20,detailsKey:void 0,rowKeyChain:null,drawer:!1,keylog:[]}},actions:{SET_ACTIVITY:I,OPEN_DETAILS_DRAWER:E,SET_PAGINATION_KEYCHAIN_TABLE:w,SET_NB_ROW_KEYCHAIN_TABLE:x,SET_DETAILS_KEYCHAIN:T,SET_START_PAGINATION_KEYCHAIN:S,SET_END_PAGINATION_KEYCHAIN:O},mutations:{SET_LOG:P,OPEN_DRAWER:D,SET_DETAILS_KEY:R,SET_PAGINATION_KEYCHAIN:A,SET_NB_ROW_KEYCHAIN:N,SET_START_KEYCHAIN:K,SET_END_KEYCHAIN:L}},G={data:function(){return{store:W}},methods:{setPaginationTable:function(t){W.state.keychain.rowKeyChain<t?(this.store.actions.SET_END_PAGINATION_KEYCHAIN(W.state.keychain.rowKeyChain),this.$notify({group:"foo",title:"Keys par page is adapted to your number of keys",classes:"vue-notification error"})):(this.store.actions.SET_PAGINATION_KEYCHAIN_TABLE(t),this.store.actions.SET_END_PAGINATION_KEYCHAIN(t))},move:function(t){if("forward"===t){if(W.state.keychain.selectedItemByPage+W.state.keychain.startPaginationItem>W.state.keychain.rowKeyChain||W.state.keychain.selectedItemByPage+W.state.keychain.endPaginationItem+1>W.state.keychain.rowKeyChain)return this.setPaginationTable(W.state.keychain.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_KEYCHAIN(W.state.keychain.selectedItemByPage+W.state.keychain.startPaginationItem),this.store.actions.SET_END_PAGINATION_KEYCHAIN(W.state.keychain.selectedItemByPage+W.state.keychain.endPaginationItem+1)}else{if(W.state.keychain.selectedItemByPage-W.state.keychain.startPaginationItem>W.state.keychain.startPaginationItem||W.state.keychain.selectedItemByPage-W.state.keychain.endPaginationItem>W.state.keychain.endPaginationItem)return this.setPaginationTable(W.state.keychain.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_KEYCHAIN(W.state.keychain.startPaginationItem-W.state.keychain.selectedItemByPage),this.store.actions.SET_END_PAGINATION_KEYCHAIN(W.state.keychain.endPaginationItem-1-W.state.keychain.selectedItemByPage)}}}},F=G,Q=(n("sUPs"),Object(c["a"])(F,b,k,!1,null,null,null)),J=Q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"container-fluid"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)])},Z=[],q={},tt=q,et=(n("WMk7"),Object(c["a"])(tt,X,Z,!1,null,null,null)),nt=et.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},at=[],it={},rt=it,ot=(n("bcA2"),Object(c["a"])(rt,st,at,!1,null,null,null)),ct=ot.exports,lt={components:{TopNavbar:y,ContentFooter:J,DashboardContent:nt,MobileMenu:ct},mounted:function(){if(console.log(M,"data repository"),!M.account.access_token)return this.$router.push("/login");this.$router.push("/keychain")},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},ut=lt,dt=(n("IF+9"),n("h3yY"),Object(c["a"])(ut,p,f,!1,null,null,null)),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"limiter"},[n("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),n("div",{staticClass:"container-login100"},[n("div",{staticClass:"wrap-login100"},[t._m(0),n("div",{staticClass:"form-container"},[n("div",{staticClass:"login100-form validate-form"},[t._m(1),n("div",{staticClass:"wrap-input100 validate-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.email_or_username,expression:"state.email_or_username"}],staticClass:"input100",attrs:{placeholder:"",type:"text",name:"text"},domProps:{value:t.state.email_or_username},on:{input:function(e){e.target.composing||t.$set(t.state,"email_or_username",e.target.value)}}}),n("span",{staticClass:"focus-input100"}),n("transition",{attrs:{name:"fade"}},[t.state.email_or_username<1?n("span",{staticClass:"label-input100"},[t._v("Email or username")]):t._e()])],1),n("div",{staticClass:"wrap-input100 validate-input",attrs:{"data-validate":"Password is required"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.state.password,expression:"state.password"}],staticClass:"input100",attrs:{placeholder:"",type:"password",name:"pass"},domProps:{value:t.state.password},on:{input:function(e){e.target.composing||t.$set(t.state,"password",e.target.value)}}}),n("span",{staticClass:"focus-input100"}),n("transition",{attrs:{name:"fade"}},[t.state.password.length<1?n("span",{staticClass:"label-input100"},[t._v("Password")]):t._e()])],1),t._m(2),n("div",{staticClass:"container-login100-form-btn"},[n("button",{staticClass:"login100-form-btn",on:{click:t.login}},[t._v("\n\t\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t\t")])]),n("p",{staticClass:"new-account"},[t._v("First time here ? Create an account")])])])])])],1)},ht=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login100-more"},[s("img",{staticClass:"cover-img",attrs:{src:n("s6yX")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"login100-form-title p-b-43"},[s("img",{attrs:{src:n("MYzG")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-sb-m w-full p-t-3 p-b-32 forgot-password"},[n("div",{staticClass:"contact100-form-checkbox"}),n("div",[n("a",{staticClass:"txt1",attrs:{href:"#"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tForgot Password?\n\t\t\t\t\t\t\t\t\t")])])])}],mt={data:function(){return{state:{grant_type:"password",email_or_username:"",password:"",client_id:"web_plateform_client_id",user_agent:navigator.userAgent}}},mounted:function(){this.checkIfUserIsConnected()},methods:{login:function(){var t=this;H.login(this.state).then(function(e){return t.checkIfUserIsConnected()})},checkIfUserIsConnected:function(){if(!M.account.access_token)return this.showErrMsg();this.$router.push("/keychain")},showErrMsg:function(){this.$notify({group:"foo",title:"Incorrect credentials",classes:"vue-notification error"})}}},vt=mt,gt=(n("kpc2"),Object(c["a"])(vt,ft,ht,!1,null,"0bc29f5a",null)),_t=gt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[void 0!==t.store.state.keychain.detailsKey?n("right-details-drawer"):t._e(),n("card",{staticClass:"card-plain"},[n("div",{staticClass:"table-full-width table-responsive"},[n("paper-table",{attrs:{type:"hover",data:t.table.data,columns:t.table.columns,maxRow:t.table.data.length}})],1)])],1)])},bt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",[t.label?n("label",{staticClass:"control-label"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()]),t._t("addonLeft",[t.addonLeftIcon?n("span",{staticClass:"input-group-prepend"},[n("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]),n("input",t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._t("default"),t._t("addonRight",[t.addonRightIcon?n("span",{staticClass:"input-group-append"},[n("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()])],2)},Ct=[],jt=(n("xfY5"),{inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String},computed:{hasIcon:function(){var t=this.$slots,e=t.addonRight,n=t.addonLeft;return void 0!==e||void 0!==n||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}}),wt=jt,xt=(n("kqR+"),Object(c["a"])(wt,kt,Ct,!1,null,null,null)),Et=xt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[s("a",{class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",[s("img",{attrs:{src:n("lLE7")}}),s("span",[t._v(" "+t._s(t.title))])])],2),s("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[t._t("default")],2)])},Tt=[],St={props:{tag:{type:String,default:"li"},title:String,icon:String,titleClasses:[String,Object,Array]},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",!1)}}},Ot=St,At=Object(c["a"])(Ot,It,Tt,!1,null,null,null),Nt=At.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),s("table",{staticClass:"table margin",class:t.tableClass},[s("thead",[t._t("columns",t._l(t.columns,function(e){return s("th",{key:e,staticClass:"capitalize"},[t._v(t._s(e)+" "),s("img",{staticClass:"filter-th",attrs:{src:n("uwTD")}})])}))],2),s("tbody",t._l(t.data.slice(t.store.state.keychain.startPaginationItem-1,t.store.state.keychain.endPaginationItem),function(e,n){return s("tr",{key:n},[t._t("default",t._l(t.columns,function(n,a){return s("td",{key:a,staticClass:"margin-td capitalize",staticStyle:{cursor:"pointer"},on:{click:function(n){t.setDetailsItem(e)}}},[s("div",{staticClass:"container-table"},["status"===n&&"active"===e[n]?s("div",{staticClass:"valid"},[s("i",{staticClass:"ti-check light"})]):t._e(),"status"===n&&"inactive"===e[n]?s("div",{staticClass:"valid"},[s("i",{staticClass:"ti-close inactive"})]):t._e(),t._v("\r\n           "+t._s(e[n]))])])}),{row:e})],2)}))])],1)},Dt=[],Pt=n("LvDl"),Kt=n.n(Pt),Lt={retrieveUser:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e,n){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.user+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+M.account.access_token}});case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),getContactPicture:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.retrieveToken();case 2:return n=t.sent,t.next=5,this.retrieveContactPicture(e,n);case 5:return s=t.sent,$t.contactPictures.push({img:s.base64,id:e}),t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveContactPicture:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e,n){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y+B.contact_picture,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+n},body:JSON.stringify({user:{id:parseInt(e)}})});case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},$t={contactPictures:[]},Yt={name:"paper-table",data:function(){return{store:W,userDataRepository:$t,notificationToReturn:[]}},props:{columns:Array,data:Array,type:{type:String,default:"striped"},maxRow:{type:Number,default:0},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass:function(){return"table-".concat(this.type)}},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]},setDetailsItem:function(t){var e=this;this.notificationToReturn=[],this.store.state.keychain.keylog=[];var n={};if(n=t.shared?Kt.a.filter(U.shared_key,{door_lock_id:t.id}):Kt.a.filter(U.door_locks,{id:t.id}),"Normal (non admin)"===t.access)return this.$notify({group:"foo",title:"Details lock door is not available with "+t.access+" status",classes:"vue-notification error"});this.store.actions.OPEN_DETAILS_DRAWER(!0),this.store.actions.SET_DETAILS_KEYCHAIN(n[0]).then(function(t){V.getLogs(n[0].id).then(function(t){if(0===U.actvityKey.length)return e.store.actions.SET_ACTIVITY(!1);e.getLogs().then(function(t){return e.store.actions.SET_ACTIVITY(e.notificationToReturn)})})})},getLogs:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.actvityKey.map(function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.buildLogs(e);case 2:return s=t.sent,t.next=5,n.notificationToReturn.push(s);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),buildLogs:function(){var t=Object(C["a"])(regeneratorRuntime.mark(function t(e){var n,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lt.retrieveUser(e.user_id);case 2:if(n=t.sent,s=Kt.a.filter($t.contactPictures,{id:e.user_id}),0===s.length){t.next=8;break}e.picture=s[0].img,t.next=12;break;case 8:return t.next=10,Lt.getContactPicture(e.user_id);case 10:a=t.sent,e.picture=a.base64;case 12:return e.fullName=n.first_name+" "+n.last_name,t.abrupt("return",e);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Bt=Yt,zt=(n("sYXL"),Object(c["a"])(Bt,Rt,Dt,!1,null,null,null)),Ht=zt.exports,Mt=function(){var t,e,n,s=this,a=s.$createElement,i=s._self._c||a;return i(s.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":s.round},{"btn-block":s.block},{"btn-just-icon":s.icon},(t={},t["btn-"+s.type]=s.type&&!s.outline,t),(e={},e["btn-outline-"+s.type]=s.type&&s.outline,e),(n={},n["btn-"+s.size]=s.size,n),{"btn-link":s.simple}],attrs:{type:s.nativeType,disabled:s.disabled||s.loading}},[s._t("loading",[s.loading?i("i",{staticClass:"fa fa-spinner fa-spin"}):s._e()]),s._t("default")],2)},Vt=[],Ut={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},Wt=Ut,Gt=(n("2cEd"),Object(c["a"])(Wt,Mt,Vt,!1,null,null,null)),Ft=Gt.exports,Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[t.$slots.image?n("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?n("div",{staticClass:"card-header"},[t._t("header",[n("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?n("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()])],2):t._e(),t.$slots.default?n("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?n("div",{staticClass:"card-footer"},[n("hr"),t._t("footer")],2):t._e()],2)},Jt=[],Xt={name:"card",props:{title:String,subTitle:String}},Zt=Xt,qt=(n("UpLk"),Object(c["a"])(Zt,Qt,Jt,!1,null,null,null)),te=qt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",[n("template",{slot:"header"},[t.$slots.title||t.title?n("h4",{staticClass:"card-title"},[t._t("title",[t._v("\n        "+t._s(t.title)+"\n      ")])],2):t._e(),n("p",{staticClass:"card-category"},[t._t("subTitle",[t._v("\n        "+t._s(t.subTitle)+"\n      ")])],2)]),n("div",[n("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),n("div",{staticClass:"footer"},[n("div",{staticClass:"chart-legend"},[t._t("legend")],2),n("hr"),n("div",{staticClass:"stats"},[t._t("footer")],2),n("div",{staticClass:"pull-right"})])])],2)},ne=[],se=(n("a1Th"),{name:"chart-card",components:{Card:te},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}}},data:function(){return{chartId:"no-id"}},methods:{initChart:function(t){var e="#".concat(this.chartId);t[this.chartType](e,this.chartData,this.chartOptions)},updateChartId:function(){var t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_".concat(e)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){var t=this;this.updateChartId(),n.e(0).then(n.t.bind(null,"uki+",7)).then(function(e){var n=e.default||e;t.$nextTick(function(){t.initChart(n)})})}}),ae=se,ie=(n("gEPL"),Object(c["a"])(ae,ee,ne,!1,null,null,null)),re=(ie.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",[n("div",[n("div",{staticClass:"row"},[t.$slots.header?n("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?n("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?n("div",[n("hr"),t._t("footer")],2):t._e()])])}),oe=[],ce={name:"stats-card",components:{Card:te}},le=ce,ue=(n("1Rbe"),Object(c["a"])(le,re,oe,!1,null,null,null)),de=(ue.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[s("div",{staticClass:"sidebar-wrapper",attrs:{id:"style-3"}},[s("div",{staticClass:"logo"},[s("a",{staticClass:"simple-text",attrs:{href:"#"}},[s("div",{staticClass:"logo-img"},[t.user.profile_picture?s("img",{attrs:{src:t.user.profile_picture,alt:""}}):s("img",{attrs:{src:n("cK95"),alt:""}})]),s("span",{staticClass:"first-name-container"},[t._v(t._s(t.displayName)+" "),s("i",{staticClass:"ti-angle-down arrowLog left-margin"})]),s("div",{staticClass:"username-container"},[s("span",[t._v(t._s(t.user.username))])])])]),t._t("default"),s("ul",{staticClass:"nav"},[s("moving-arrow",{attrs:{"move-y":t.arrowMovePx}}),t._t("links",t._l(t.sidebarLinks,function(t,e){return s("sidebar-link",{key:e,attrs:{to:t.path,name:t.name,icon:t.icon}})}))],2),t._m(0)],2)])}),pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-footer"},[n("button",{staticClass:"newKey"},[t._v("NEW CONTACT")]),n("button",{staticClass:"shareKey"},[t._v("SHARE KEY")])])}],fe=(n("rGqo"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"moving-arrow",style:t.arrowStyle})}),he=[],me={props:{moveY:{type:Number,default:0}},computed:{arrowStyle:function(){return{transform:"translate3d(0px, ".concat(this.moveY,"px, 0px)")}}}},ve=me,ge=(n("W193"),Object(c["a"])(ve,fe,he,!1,null,null,null)),_e=ge.exports,ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar(e)}}},"component",t.$attrs,!1),[n("a",{staticClass:"nav-link margin-a"},[t._t("default",[t.icon?n("i",{staticClass:"branding",class:t.icon}):t._e(),n("p",[t._v(t._s(t.name))])])],2)])},be=[],ke={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:function(){}},removeLink:{default:function(){}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive:function(){return this.$el.classList.contains("active")}},mounted:function(){this.addLink&&this.addLink(this)},beforeDestroy:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Ce=ke,je=(n("zAMz"),Object(c["a"])(Ce,ye,be,!1,null,null,null)),we=je.exports,xe={props:{backgroundColor:{type:String,default:"black",validator:function(t){var e=["white","black","darkblue"];return-1!==e.indexOf(t)}},activeColor:{type:String,default:"success",validator:function(t){var e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:_e,SidebarLink:we},computed:{arrowMovePx:function(){return this.linkHeight*this.activeLinkIndex}},data:function(){return{user:Object(z["a"])({},M.account.user),displayName:"",linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink:function(){var t=this;this.links.forEach(function(e,n){e.isActive()&&(t.activeLinkIndex=n)})},addLink:function(t){var e=this.$slots.links.indexOf(t.$vnode);this.links.splice(e,0,t)},removeLink:function(t){var e=this.links.indexOf(t);e>-1&&this.links.splice(e,1)}},mounted:function(){this.displayName=this.user.first_name+" "+this.user.last_name,this.$watch("$route",this.findActiveLink,{immediate:!0})}},Ee=xe,Ie=(n("iP2a"),Object(c["a"])(Ee,de,pe,!1,null,null,null)),Te=Ie.exports,Se={showSidebar:!1,sidebarLinks:[],displaySidebar:function(t){this.showSidebar=t}},Oe={install:function(t){var e=new t({data:{sidebarStore:Se}});t.prototype.$sidebar=e.sidebarStore,t.component("side-bar",Te),t.component("sidebar-link",we)}},Ae=Oe,Ne=n("wd/R"),Re=n.n(Ne),De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{toggled:!1===t.store.state.keychain.drawer},attrs:{id:"wrapper"}},[s("div",{attrs:{id:"sidebar-wrapper"}},[s("ul",{staticClass:"sidebar-nav"},[s("li",{staticClass:"sidebar-brand"},[s("transition",{attrs:{name:"fade"}},[t.store.state.keychain.drawer?s("img",{staticClass:"close-icon close-img",attrs:{src:n("qxi6")},on:{click:function(e){t.store.actions.OPEN_DETAILS_DRAWER(!1)}}}):t._e()])],1),s("li",{staticClass:"item"},[t.store.state.keychain.detailsKey.city?s("p",{staticClass:"text-key-group"},[t._v(t._s(t.store.state.keychain.detailsKey.city))]):t._e()]),s("li",[t.store.state.keychain.detailsKey.description?s("p",{staticClass:"text-key-name"},[t._v(t._s(t.store.state.keychain.detailsKey.description))]):t._e()]),t._m(0),s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:n("bKco")}}),t._v(" Battery charged at "),null===t.store.state.keychain.detailsKey.battery_level?s("span",[t._v("100 % ")]):s("span",[t._v(t._s(t.store.state.keychain.detailsKey.battery_level)+" % ")])])]),s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:n("yGZV")}}),t._v("  No break-in in progress "+t._s(t.store.state.keychain.detailsKey.battery_level))])]),s("li",{staticClass:"item"},[t.keychainRepository.actvityKey[t.keychainRepository.actvityKey.length-1]?s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:n("uouN")}}),t._v("  "+t._s(t.keychainRepository.actvityKey[t.keychainRepository.actvityKey.length-1].door_lock_status)+" ")]):t._e()]),t.store.state.keychain.detailsKey.lock_user_number?s("li",[s("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v("Access requests")])]):t._e(),t.store.state.keychain.detailsKey.lock_user_number?s("li",[s("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v("Access management")])]):t._e(),t.store.state.keychain.detailsKey.lock_user_number?s("li",[s("p",{staticClass:"text-sub-category"},[t._v(t._s(t.store.state.keychain.detailsKey.nb_users)+" users")])]):t._e(),t._m(1),t._l(t.store.state.keychain.keylog,function(e){return t.store.state.keychain.keylog.length===t.keychainRepository.actvityKey.length?s("li",{key:e.id,staticClass:"item"},[s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item notification-profile",attrs:{src:"data:image/png;base64,"+e.picture}}),t._v("  "+t._s(e.fullName)+"\n                  ")]),s("p",{staticClass:"sub-log"},["locked"===e.door_lock_status?s("span",[t._v("closed")]):s("span",[t._v("opened")]),t._v(" "+t._s(t.store.state.keychain.detailsKey.description)+" ")]),s("p",{staticClass:"sub-log timing"},[s("span",[t._v(t._s(t.getDiffTime(e.created_at))+" ago")])])]):t._e()}),0===t.store.state.keychain.keylog.length?s("li",[t._m(2)]):t._e(),t.store.state.keychain.keylog?t._e():s("li",[s("p",{staticClass:"text-item"},[t._v("No recent activity")])])],2)])])},Pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v("Status")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v(" Activity")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sk-circle"},[n("div",{staticClass:"sk-circle1 sk-child"}),n("div",{staticClass:"sk-circle2 sk-child"}),n("div",{staticClass:"sk-circle3 sk-child"}),n("div",{staticClass:"sk-circle4 sk-child"}),n("div",{staticClass:"sk-circle5 sk-child"}),n("div",{staticClass:"sk-circle6 sk-child"}),n("div",{staticClass:"sk-circle7 sk-child"}),n("div",{staticClass:"sk-circle8 sk-child"}),n("div",{staticClass:"sk-circle9 sk-child"}),n("div",{staticClass:"sk-circle10 sk-child"}),n("div",{staticClass:"sk-circle11 sk-child"}),n("div",{staticClass:"sk-circle12 sk-child"})])}],Ke={data:function(){return{store:W,keychainRepository:U}},mounted:function(){console.log(this.store.state.keychain.keylog,"notifications")},methods:{getDiffTime:function(t){var e=Re()(t),n=Re()(),s=Re.a.duration(n.diff(e)),a=s.asDays();s.subtract(Re.a.duration(a,"days"));var i=s.hours();s.subtract(Re.a.duration(i,"hours"));var r=s.minutes();s.subtract(Re.a.duration(r,"minutes"));var o=s.minutes();return s.subtract(Re.a.duration(o,"seconds")),Math.round(a)>=1?Math.round(a)+" days":i>=1?i+" hours ":r>=1?r+" minutes ":o>=1?o+" seconds ":void 0}}},Le=Ke,$e=(n("kESj"),Object(c["a"])(Le,De,Pe,!1,null,null,null)),Ye=$e.exports,Be={components:{PaperTable:Ht,RightDetailsDrawer:Ye},data:function(){return{table:{title:"",columns:["key name","access","status","sharing"],data:[]},store:W}},mounted:function(){var t=this;V.getDoorLocks().then(function(e){V.getSharedK().then(function(e){t.parseDataTable(),t.store.actions.SET_NB_ROW_KEYCHAIN_TABLE(t.table.data.length)})})},methods:{parseDataTable:function(){var t=this;U.door_locks.map(function(e,n){t.table.data.push({id:e.id,"key name":e.description,access:"owner",status:e.existing_status,sharing:e.nb_users-1+" users"})}),U.shared_key.map(function(e,n){t.table.data.push({id:e.door_lock_id,shared:!0,"key name":"shared key "+e.door_lock_id,access:t.checkAccess(e.admin),status:t.checkStatus(e),sharing:e.lock_user_number+" users"})})},checkAccess:function(t){return t?"admin":"Normal (non admin)"},checkStatus:function(t){return t.start_date||t.end_date?Re()(t.start_date)>Re()()?"active in"+this.getDiffTime(t.start_date,"start"):null!==t.end_date&&Re()(t.end_date)<Re()()?"inactive":null!==t.end_date&&Re()(t.end_date)>Re()()?"end in "+this.getDiffTime(t.end_date,"end"):t.existing_status:"unlimited"},getDiffTime:function(t){var e=Re()(t),n=Re()(),s=Re.a.duration(n.diff(e)),a=s.asDays();s.subtract(Re.a.duration(a,"days"));var i=s.hours();s.subtract(Re.a.duration(i,"hours"));var r=s.minutes();s.subtract(Re.a.duration(r,"minutes"));var o=s.minutes();return s.subtract(Re.a.duration(o,"seconds")),Math.round(a)>=1?Math.round(a)+" days":i>=1?i+" hours ":r>=1?r+" minutes ":o>=1?o+" seconds ":void 0}}},ze=Be,He=(n("VVnn"),Object(c["a"])(ze,yt,bt,!1,null,null,null)),Me=He.exports,Ve=[{path:"/",component:pt,redirect:"/keychain",children:[{path:"keychain",name:"Keychain",component:Me}]},{path:"*",component:pt},{path:"/login",component:_t}],Ue=Ve;s["default"].use(d["a"]);var We=new d["a"]({routes:Ue,linkActiveClass:"active"}),Ge=We,Fe=n("7pj7"),Qe=n.n(Fe),Je=n("c0Y5"),Xe=n.n(Je),Ze={install:function(t){t.component("fg-input",Et),t.component("drop-down",Nt),t.component("card",te),t.component("p-button",Ft)}},qe=Ze,tn=n("x9sl"),en={install:function(t){t.directive("click-outside",tn["directive"])}},nn=en,sn=(n("VLrD"),n("+eM2"),n("DgDO"),n("5FRv"),{install:function(t){t.use(qe),t.use(nn),t.use(Ae),t.use(Xe.a)}});n("cuC8");s["default"].use(sn,Qe.a),new s["default"]({router:Ge,render:function(t){return t(u)}}).$mount("#app")},W193:function(t,e,n){"use strict";var s=n("S0BH"),a=n.n(s);a.a},WMk7:function(t,e,n){"use strict";var s=n("4juU"),a=n.n(s);a.a},YOIe:function(t,e,n){},ajWj:function(t,e,n){},bCEC:function(t,e,n){},bKco:function(t,e,n){t.exports=n.p+"img/battery.b2f9107c.svg"},bcA2:function(t,e,n){"use strict";var s=n("wuOF"),a=n.n(s);a.a},cK95:function(t,e,n){t.exports=n.p+"img/usermock.b98fb997.jpeg"},d38g:function(t,e,n){},e94g:function(t,e,n){},gEPL:function(t,e,n){"use strict";var s=n("pcSS"),a=n.n(s);a.a},gY9p:function(t,e,n){"use strict";var s=n("vDXk"),a=n.n(s);a.a},gjwi:function(t,e,n){t.exports=n.p+"img/overview.67957075.svg"},h3yY:function(t,e,n){"use strict";var s=n("kBQD"),a=n.n(s);a.a},iP2a:function(t,e,n){"use strict";var s=n("QHyd"),a=n.n(s);a.a},kBQD:function(t,e,n){},kESj:function(t,e,n){"use strict";var s=n("e94g"),a=n.n(s);a.a},kpc2:function(t,e,n){"use strict";var s=n("JkKM"),a=n.n(s);a.a},"kqR+":function(t,e,n){"use strict";var s=n("3Iqb"),a=n.n(s);a.a},lLE7:function(t,e,n){t.exports=n.p+"img/filterIcon.534cd66f.svg"},nfVs:function(t,e,n){},pcSS:function(t,e,n){},qxi6:function(t,e,n){t.exports=n.p+"img/close-drawer-icon.c56ffac4.svg"},rMqU:function(t,e,n){},s6yX:function(t,e,n){t.exports=n.p+"img/havrassembly@3x.8a2000a2.png"},sUPs:function(t,e,n){"use strict";var s=n("rMqU"),a=n.n(s);a.a},sYXL:function(t,e,n){"use strict";var s=n("8+Jw"),a=n.n(s);a.a},uouN:function(t,e,n){t.exports=n.p+"img/locked.61768976.svg"},uwTD:function(t,e,n){t.exports=n.p+"img/filterTableIcon.818f475c.svg"},v31x:function(t,e,n){t.exports=n.p+"img/map-marker.ad5fe5c4.svg"},v3hs:function(t,e,n){},vDXk:function(t,e,n){},wuOF:function(t,e,n){},yGZV:function(t,e,n){t.exports=n.p+"img/progress.54ea5ce8.svg"},zAMz:function(t,e,n){"use strict";var s=n("v3hs"),a=n.n(s);a.a}});
//# sourceMappingURL=app.d0a5f044.js.map