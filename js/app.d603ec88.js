(function(t){function e(e){for(var s,i,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)i=o[l],a[i]&&d.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=r[0]))}return t}var s={},a={2:0},n=[];function i(t){return o.p+"js/"+({}[t]||t)+"."+{0:"e44a2c3d"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise(function(e,s){r=a[t]=[e,s]});e.push(r[2]=s);var n,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=i(t),n=function(e){u.onerror=u.onload=null,clearTimeout(l);var r=a[t];if(0!==r){if(r){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+s+": "+n+")");i.type=s,i.request=n,r[1](i)}a[t]=void 0}};var l=setTimeout(function(){n({type:"timeout",target:u})},12e4);u.onerror=u.onload=n,c.appendChild(u)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(r,s,function(e){return t[e]}.bind(null,s));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=u;n.push([63,1]),r()})({"+6/Y":function(t,e,r){},"/N4A":function(t,e,r){"use strict";var s=r("J+RO"),a=r.n(s);a.a},"0OOS":function(t,e,r){"use strict";var s=r("kv91"),a=r.n(s);a.a},"0X8B":function(t,e,r){},"0aRZ":function(t,e,r){"use strict";var s=r("b6Fh"),a=r.n(s);a.a},"0rN6":function(t,e,r){t.exports=r.p+"img/dot-key-selector.e5da04d7.svg"},"0shF":function(t,e,r){"use strict";var s=r("+6/Y"),a=r.n(s);a.a},"0yir":function(t,e,r){"use strict";var s=r("3Y3g"),a=r.n(s);a.a},"1Rbe":function(t,e,r){"use strict";var s=r("ajWj"),a=r.n(s);a.a},"2+eZ":function(t,e,r){},"2MuD":function(t,e,r){},"2cEd":function(t,e,r){"use strict";var s=r("nfVs"),a=r.n(s);a.a},31:function(t,e){},32:function(t,e){},33:function(t,e){},34:function(t,e){},"3Iqb":function(t,e,r){},"3Y3g":function(t,e,r){},"3cbF":function(t,e,r){},"4/3d":function(t,e,r){"use strict";var s=r("NbBT"),a=r.n(s);a.a},"47dP":function(t,e,r){"use strict";var s=r("lFcT"),a=r.n(s);a.a},"4juU":function(t,e,r){},"510h":function(t,e,r){},"5FRv":function(t,e,r){},"5W3Y":function(t,e,r){"use strict";var s=r("uQn7"),a=r.n(s);a.a},"5uvX":function(t,e,r){t.exports=r.p+"img/Checkmark.46118628.svg"},"5yDP":function(t,e,r){},"6+eD":function(t,e,r){t.exports=r.p+"img/list.c2de026e.svg"},63:function(t,e,r){t.exports=r("Vtdi")},"69/0":function(t,e,r){},"6JDy":function(t,e,r){t.exports=r.p+"img/business-group.ff25ea58.svg"},"70GW":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAABY5JREFUeAHtmX2IVUUUwM+4rmtkFhQUFFT/GJT/RAQGpbbrWhRqWIkUmKCoQWbual9S2IeWm66xQWKGQa1EFmUglWEWBqERFAVZln9on2RYbEXfe/udu+3i0pzZe9+7b3vv7Vy4vLvnzMw957dnZs6dIxKvSCASiAQigUggEogEIoFIIBKIBCKBSCASiAQigVomkCTi8tifq3GegauxbbJZGuWgvIBtb7kNsjGLjaOyNKqHNsl2aZBPZZskMpO7M2mXu7P4NSIApdNqvzwFkOsHoCSyJlkhDw78bTyMiClGtGwmahZ5GTjZyHRr8+oQ1n0EAedRE04flYnJahkzIgElbbIWOMss59nP9spJco1bLX9Ybep2igHnHpy+33IcOPtZtltdh/xktkFRl4CAo2vKBtNxJx8QOZcTOT+abf5V1B0g4NyMb4+bjjv5GN0UFubvzTbHKeoKEHDm49tWbr9fTj5jW5rsHpFvj2MQfPQPFOxSnUpymrksyJoI+ndmJ4fRXeY65Ys8HvgHyzNCFbQFziycf8aEI/IVHxnNeeGoazUfQclKuVJ65WXg+HMZJ9/hp645n5Tyv6xpQETOVOC8guMnGM4fI3KmunXykaEfUlyzgIBzCXBex8Nxhpc9MlpayHPeM/SZxDUJiM+Hi/DuDabVyV4vnfyCbjprzjtefQ5hzS3SRM5E/NsVgPMbGfKMIuAox5oClNwu5zGtdgPnVG8QuPSbajbT6k2vvgRhzQAics6Vv5hWIqd7/XRoncxlt3rVqy9RWBOAiJyziJw9+Him10+HVmSeWy8vefVlCKseEHnOGfJ3GjnnGH7qMfxCIudZQ1+WuCRAGH0tO0lXWW/O0Jl3nAYcXXMmmM2d3ELk6HFqRa7cgDD6Rox+DqOXsi7YRwplmssp3ykMoXnOBYGhVhI59pd7oGNWVS5AwFnIwE9zN6Qv6JU2IA158J3VmP52wBknPSy2iVzYL/P83stWvt4jL1SUGRBwlmLwE9yD+/TKKnSZSihZLE86+WzokZ20nRRovw44DwT0hakGO2sMmx5qJ7IAtT/z1hJKuyw3umcWJ13SJF/KDjpMCXTqAs6dAX2hqkyA0kPtJmnlzQfMt2sxboUsNvVDKNKq52HZTrPpgaZbWPVuC+gLV2UCpG91D8lRGSstxNAh04pe2cQON8/UG4q06nlQupm+M40mKu6W8bLEOVoN45UZkNrk1so3fCE383jEsNGxw20lkuYY+v+I06rnPo5Jk0AfRz19kswnkjUhHNYrFyC1jLOVI+xhzUTS14alDbjRDaQZhn6wuF02IbCjzrFgT5Ab3BzQ/w9XbkBqI4feh4A0jcejhs2NQHqe6RZaT4SFvZP+9rrlSBLPluvcYvnTeE/FxSUBUqv4Yj7AaV0rkfSDYWUT//MdQPLuSMBZw7QK7XxvU7ua5W6V343xh0Xs37ZzvBpHL8bR3XQZb3T7mXVLK5j7+vWUZ1bxHEow36XPNPoEq57941Xyt2xAahyQLuXnNUCdaBirFUytKrxP2+W006nlv7TqqRWIh83I9PerkLQQQGobUaEpwE6cH+u11VHJTGQLuru8ehVq1XMMh+yaUlTJVRgg9Yed62oWZz2TaSzBv89BOzlNJUroXKkuhQJSI5lCs4kUzYj7PmizWK5Vz9HA0RSiyq6SdzHLD44fXmSq3MSdLanTfGoU5ZkqhKM+Fg5IBwXSNn40vwl/FvRVPVvSvEo7VuFVEUDqJ5CeJIqWBXw+hr6VdiWVhAPjFqqqGCC1EucfA8IdHou16nkFR6UfenRVJaooIPUUSB1M5PsGvNaqZ4NcRRJYVkl4YLx6eWB36+D+lVSguV58KtwPAJ1f+KBxwEggEogEIoFIIBKIBCKBSCASiAQigboj8A+NdkwWgeG41AAAAABJRU5ErkJggg=="},"7CZN":function(t,e,r){t.exports=r.p+"img/users.ef34664a.svg"},"7gQt":function(t,e,r){t.exports=r.p+"img/overview-active.1e1f1d9c.svg"},"8+Jw":function(t,e,r){},"9Sws":function(t,e,r){t.exports=r.p+"img/key-marker.2d1b2362.svg"},"9Yl6":function(t,e,r){"use strict";var s=r("Ntlg"),a=r.n(s);a.a},"9zfB":function(t,e,r){},BZxc:function(t,e,r){t.exports=r.p+"img/admin.8e8ca869.png"},CaBX:function(t,e,r){},D3HO:function(t,e,r){t.exports=r.p+"img/user.9f7ea773.png"},DgDO:function(t,e,r){},DvMj:function(t,e,r){"use strict";var s=r("lNbI"),a=r.n(s);a.a},E0Mp:function(t,e,r){},E7pm:function(t,e,r){},EeXV:function(t,e,r){t.exports=r.p+"img/checked-icon.a24db301.svg"},FrfY:function(t,e,r){t.exports=r.p+"img/users-active.969289b5.svg"},FvLw:function(t,e,r){"use strict";var s=r("gqR0"),a=r.n(s);a.a},GBXQ:function(t,e,r){t.exports=r.p+"img/home.375df98b.png"},GBzZ:function(t,e,r){"use strict";var s=r("dur9"),a=r("eB5c"),n=(r("5W3Y"),r("KHd+")),i=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,null,null);e["default"]=i.exports},HBEK:function(t,e,r){},HZEZ:function(t,e,r){},"IF+9":function(t,e,r){"use strict";var s=r("d38g"),a=r.n(s);a.a},IMqa:function(t,e,r){t.exports=r.p+"img/android-icon.84040a1c.svg"},Idma:function(t,e,r){t.exports=r.p+"img/havr-logo-full.dfffa174.svg"},Invs:function(t,e,r){"use strict";var s=r("yKqn"),a=r.n(s);a.a},"J+RO":function(t,e,r){},JZLc:function(t,e,r){t.exports=r.p+"img/delete.a55f886e.svg"},Jq8W:function(t,e,r){"use strict";var s=r("dZ6W"),a=r.n(s);a.a},L6jS:function(t,e,r){t.exports=r.p+"img/keychain.bcba09a1.svg"},LmWP:function(t,e,r){t.exports=r.p+"img/usermock.7256079a.jpg"},NbBT:function(t,e,r){},Nlfg:function(t,e,r){},Ntlg:function(t,e,r){},"O/e6":function(t,e,r){t.exports=r.p+"img/pen.b7b298ce.svg"},OUkJ:function(t,e,r){"use strict";var s=r("69/0"),a=r.n(s);a.a},"Omx+":function(t,e,r){"use strict";var s=r("0X8B"),a=r.n(s);a.a},PdgU:function(t,e,r){t.exports=r.p+"img/plus.335ff228.svg"},QHyd:function(t,e,r){},QOsA:function(t,e,r){"use strict";var s=r("Xdg3"),a=r.n(s);a.a},QYzC:function(t,e,r){t.exports=r.p+"img/cancel-action-map.f6af42a1.png"},RNCx:function(t,e,r){t.exports=r.p+"img/group.ec6eda51.svg"},RnhZ:function(t,e,r){var s={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function a(t){var e=n(t);return r(e)}function n(t){var e=s[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}a.keys=function(){return Object.keys(s)},a.resolve=n,t.exports=a,a.id="RnhZ"},RtZ0:function(t,e,r){},S0BH:function(t,e,r){},SVzs:function(t,e,r){t.exports=r.p+"img/home_group.625ee769.svg"},TH51:function(t,e,r){t.exports=r.p+"img/filter.9372a278.svg"},TgRb:function(t,e,r){t.exports=r.p+"img/00_map.a9dba9e7.jpg"},Tvy3:function(t,e,r){t.exports=r.p+"img/group.7a8d3f90.png"},UpLk:function(t,e,r){"use strict";var s=r("bCEC"),a=r.n(s);a.a},VhKc:function(t,e,r){"use strict";var s=r("2MuD"),a=r.n(s);a.a},Vjcm:function(t,e,r){"use strict";var s=r("HZEZ"),a=r.n(s);a.a},Vtdi:function(t,e,r){"use strict";r.r(e);r("VRzm");var s=r("Kw5r"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{"nav-open":t.$sidebar.showSidebar}},[r("notifications",{attrs:{group:"foo"}}),r("transition",{attrs:{name:"fade"}},[r("router-view")],1)],1)},n=[],i={},o=i,c=(r("ZL7j"),r("KHd+")),u=Object(c["a"])(o,a,n,!1,null,null,null),l=u.exports,p=r("jE9Z"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("side-bar",[s("template",{slot:"links"},["Overview"===t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/overview"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("7gQt")}}),s("p",{staticClass:"custom-label active-link"},[t._v("Overview")])]):t._e(),"Overview"!==t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/overview"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("gjwi")}}),s("p",{staticClass:"custom-label"},[t._v("Overview")])]):t._e(),"Keychain"===t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/keychain"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("unA0")}}),s("p",{staticClass:"custom-label active-link"},[t._v("Keychain")])]):t._e(),"Keychain"!==t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/keychain"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("L6jS")}}),s("p",{staticClass:"custom-label"},[t._v("Keychain")])]):t._e(),"Users"===t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/users"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("FrfY")}}),s("p",{staticClass:"custom-label active-link"},[t._v("Users")])]):t._e(),"Users"!==t.getCurrentRoute?s("sidebar-link",{attrs:{to:"/users"},nativeOn:{click:function(e){return t.emptyMapStepper(e)}}},[s("img",{staticClass:"custom-icon",attrs:{src:r("7CZN")}}),s("p",{staticClass:"custom-label"},[t._v("Users")])]):t._e()],1),s("mobile-menu",[s("li",{staticClass:"divider"})])],2),s("div",{staticClass:"main-panel",class:{"overview-content":"Overview"===t.getCurrentRoute}},["Keychain-map-list"!==t.getCurrentRoute?s("top-navbar"):t._e(),"Keychain-map-list"===t.getCurrentRoute?s("TopNavBarMapList"):t._e(),"Keychain-map-details"===t.getCurrentRoute?s("TopNavbarDetailsGroup"):t._e(),"Keychain-map-edit"===t.getCurrentRoute?s("TopNavbarEditFloorMaps"):t._e(),s("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar(e)}}}),"Keychain"===t.getCurrentRoute?s("content-footer"):t._e(),"Users"===t.getCurrentRoute?s("user-footer"):t._e()],1)],1)},m=[],h=(r("f3/d"),r("ls82"),r("MECJ")),f=new s["default"],g=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_PAGINATION_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_NB_ROW_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_PAGINATION_USERS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_NB_ROW_USERS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("OPEN_DRAWER",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("OPEN_USER_DRAWER",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_USER",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),C=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_LOG",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_MANAGEMENT",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_DETAILS_KEY",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),S=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_START_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),R=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_END_KEYCHAIN",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_START_USERS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_END_USERS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_SHARED_KEY_USERS_ID",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_RULES",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_START_DATE",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_END_DATE",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("REFRESH_SHARE_KEY",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_SHARED_KEYS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("SET_SHARED_KEYS_LOCK_GROUPS",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.$emit("OPEN_GROUP_MAP_DRAWER",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),M=f.$on("SET_PAGINATION_KEYCHAIN",function(t){return wt.state.keychain.selectedItemByPage=t}),$=f.$on("SET_NB_ROW_KEYCHAIN",function(t){return wt.state.keychain.rowKeyChain=t}),z=f.$on("SET_PAGINATION_USERS",function(t){return wt.state.user.selectedItemByPage=t}),B=f.$on("SET_NB_ROW_USERS",function(t){return wt.state.user.rowKeyChain=t}),L=f.$on("SET_DETAILS_KEY",function(t){return wt.state.keychain.detailsKey=t}),G=f.$on("OPEN_DRAWER",function(t){return wt.state.keychain.drawer=t}),F=f.$on("OPEN_USER_DRAWER",function(t){return wt.state.user.drawer=t}),H=f.$on("SET_LOG",function(t){return wt.state.keychain.keylog=t}),Y=f.$on("SET_MANAGEMENT",function(t){return wt.state.keychain.accessManagement=t}),W=f.$on("SET_START_KEYCHAIN",function(t){return wt.state.keychain.startPaginationItem=t}),J=f.$on("SET_END_KEYCHAIN",function(t){return wt.state.keychain.endPaginationItem=t}),V=f.$on("SET_START_USERS",function(t){return wt.state.user.startPaginationItem=t}),Z=f.$on("SET_END_USERS",function(t){return wt.state.user.endPaginationItem=t}),q=f.$on("SET_USER",function(t){return wt.state.user.detailsUser=t}),Q=f.$on("SET_SHARED_KEY_USERS_ID",function(t){return wt.state.shareKey.user_list_ids=t}),X=f.$on("SET_START_DATE",function(t){return wt.state.shareKey.start_date=t}),tt=f.$on("SET_END_DATE",function(t){return wt.state.shareKey.end_date=t}),et=f.$on("REFRESH_SHARE_KEY",function(t){return wt.state.shareKey=t}),rt=f.$on("SET_SHARED_KEYS",function(t){return wt.state.shareKey.lock_list_ids=t}),st=f.$on("SET_RULES",function(t){return wt.state.shareKey.admin=t}),at=f.$on("SET_SHARED_KEYS_LOCK_GROUPS",function(t){return wt.state.shareKey.lock_group_ids=t}),nt=f.$on("OPEN_GROUP_MAP_DRAWER",function(t){return wt.state.map.drawer=t}),it=r("iv4g"),ot=r("yT7P"),ct=(r("rGqo"),r("yt8O"),"https://preprodapi.havr.io"),ut={login:"/oauth/v1/token",keychain:"/v1/door_locks",devices:"/v1/devices",specific_door_lock:"/v1/door_locks/",doorlocklog:"/v1/lock_logs/door_lock_detail",user_lock_logs:"/v1/lock_logs/user_detail",shared_keys:"/v1/shared_keys/index_with_details",share_key:"/v1/shared_keys",user_shared_keys:"/v1/shared_keys/detail_shared_keys_for_user",user:"/v1/users/",change_user_email:"/v1/users/change_email",change_profile_picture:"/v1/users/profile_picture",report_bug:"/support/v1/report_bug",feedback:"/support/v1/feedback",floor_map_groups:"/v1/floor_map_groups",floor_map_details:"/v1/floor_maps/show_with_file/",floor_map:"/v1/floor_maps/",maps:"/v1/floor_maps/",groups_with_floor_maps:"/v1/floor_map_groups/show_with_floor_maps_with_file",custom_service:"/support/v1/custom_service",change_password:"/v1/users/change_password",lock_group_info:"/v1/lock_groups/lock_group_info/",forgot_password:"/support/v1/forgot_password",lock_groups:"/v1/door_locks/index_with_lock_groups",create_user:"/v1/users",add_contact:"/v1/contacts",get_contact_pictures:"/v1/users/profile_picture_for_users",check_username_or_email:"/v1/users/username_or_email_used",contact_picture:"/v1/users/profile_picture_for_user",contacts:"/v1/users/contacts_with_activity",accessManagement:"/v1/shared_keys/detail_shared_keys_for_door_lock"},lt=r("vDqi"),pt=r.n(lt),dt={retrieveUser:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.user+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(s=t.sent,403!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,s.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),checkUsernameOrEmail:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.check_username_or_email,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username_or_email:e})});case 2:if(r=t.sent,403!==r.status&&204!==r.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,r.json();case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateProfil:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt()({method:"patch",url:ct+ut.user+r,data:{user:e},headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(s=t.sent,200===s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),updateEmail:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.change_user_email,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:e})});case 2:if(r=t.sent,200===r.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),createUserAccount:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.create_user,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(r=t.sent,403!==r.status&&204!==r.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,r.json();case 9:return s=t.sent,t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getContactPicture:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.retrieveToken();case 2:return r=t.sent,t.next=5,this.retrieveContactPicture(e,r);case 5:if(s=t.sent,!1===s){t.next=9;break}return mt.contactPictures.push({img:s.base64,id:e}),t.abrupt("return",s);case 9:return t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveContactPicture:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.contact_picture,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:{id:parseInt(e)}})});case 2:if(s=t.sent,403!==s.status&&204!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,s.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),retrieveContactPictures:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.get_contact_pictures,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:{ids:e}})});case 2:if(s=t.sent,403!==s.status&&204!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,s.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),retrieveSharedKeyForUser:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.user_shared_keys,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({shared_key:{user_id:parseInt(e)}})});case 2:if(s=t.sent,403!==s.status&&204!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,s.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),retrieveLockDoorUserDetail:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.user_lock_logs,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:{user_id:parseInt(e)}})});case 2:if(s=t.sent,403!==s.status&&204!==s.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.next=9,s.json();case 9:return a=t.sent,t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),forgotPassword:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.forgot_password,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({forgot_password:{email:e}})});case 2:if(r=t.sent,404!==r.status){t.next=5;break}return t.abrupt("return",!1);case 5:if(204!==r.status){t.next=7;break}return t.abrupt("return",!0);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updatePassword:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.change_password,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({change_password:e})});case 2:if(r=t.sent,200===r.status){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateProfilePicture:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(ct+ut.change_profile_picture,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:e})});case 3:if(r=t.sent,200===r.status){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t["catch"](0),t.abrupt("return",!1);case 14:case"end":return t.stop()}},t,this,[[0,11]])}));return function(e){return t.apply(this,arguments)}}(),retrieveContacts:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.contacts,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(r=t.sent,200!==r.status){t.next=8;break}return t.next=6,r.json();case 6:return s=t.sent,t.abrupt("return",mt.contacts=Object(it["a"])(s));case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},mt={contactPictures:[],contacts:[]},ht={login:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.login,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 2:if(r=t.sent,400!==r.status){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,r.json();case 9:return s=t.sent,ft.account=Object(ot["a"])({},s),sessionStorage.setItem("token",s.access_token),t.next=14,dt.retrieveContactPicture(s.user.id);case 14:a=t.sent,a.base64&&(s.user.profile_picture=a.base64),sessionStorage.setItem("currentUser",JSON.stringify(s.user));case 17:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveToken:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,sessionStorage.getItem("token");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},ft={account:{}},gt=r("LvDl"),vt=r.n(gt),_t={getDoorLocks:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.retrieveToken();case 2:return r=t.sent,t.next=5,this.retrieveLockDoor(r);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getSharedK:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.retrieveToken();case 2:return r=t.sent,t.next=5,this.retrieveSharedKeys(r);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLockGroupFromId:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return t.next=3,fetch(ct+ut.lock_group_info+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 3:return r=t.sent,t.next=6,r.json();case 6:return s=t.sent,t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getSpecificLockDoor:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.specific_door_lock+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getNbUsersSharedKey:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.next=3,this.getAccessManagement(e);case 3:return s=t.sent,t.abrupt("return",s.length+" users");case 7:return t.abrupt("return","");case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),retrieveSharedKeys:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.shared_keys,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(r=t.sent,200!==r.status){t.next=11;break}return t.next=6,r.json();case 6:return s=t.sent,t.next=9,Promise.all(s.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=ot["a"],t.t1=e.door_lock.battery_level,t.t2=e.door_lock.city,t.t3=e.door_lock.description,t.next=6,n.getNbUsersSharedKey(e.door_lock.id,e.admin);case 6:return t.t4=t.sent,t.t5={battery_level:t.t1,city:t.t2,description:t.t3,sharing:t.t4},t.t6=e,t.abrupt("return",(0,t.t0)(t.t5,t.t6));case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 9:return a=t.sent,t.abrupt("return",bt.shared_key=Object(it["a"])(a));case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),shareKey:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.share_key,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({shared_key:e})});case 2:return r=t.sent,t.abrupt("return",r.status);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLockGroupsWithDoorlocks:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.lock_groups,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(r=t.sent,200!==r.status){t.next=7;break}return t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAccessManagement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.retrieveToken();case 2:return r=t.sent,t.next=5,this.retrieveAccessManagement(r,e);case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveAccessManagement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.accessManagement,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({shared_key:{door_lock_id:parseInt(r)}})});case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),retrieveLockDoor:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.keychain,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:if(r=t.sent,200!==r.status){t.next=13;break}return t.next=6,r.json();case 6:return s=t.sent,t.next=9,Promise.all(s.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=ot["a"],t.next=3,n.getNbUsersSharedKey(e.id,!0);case 3:return t.t1=t.sent,t.t2={sharing:t.t1},t.t3=e,t.abrupt("return",(0,t.t0)(t.t2,t.t3));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 9:return a=t.sent,t.abrupt("return",bt.door_locks=Object(it["a"])(a));case 13:return t.abrupt("return",location.href="/#/login");case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLogs:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.retrieveToken();case 2:return r=t.sent,t.next=5,this.retrieveLockDoorLogs(e,r);case 5:t.sent;case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),retrieveLockDoorLogs:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.doorlocklog,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({door_lock:{door_lock_id:parseInt(e)}})});case 2:return s=t.sent,t.next=5,s.json();case 5:return a=t.sent,t.abrupt("return",bt.actvityKey=Object(it["a"])(a));case 7:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},bt={door_locks:[],shared_key:[],actvityKey:[],accessManagement:{}},yt=r("wd/R"),kt=r.n(yt),wt={state:{keychain:{selectedItemByPage:20,startPaginationItem:1,endPaginationItem:20,detailsKey:null,rowKeyChain:null,drawer:!1,keylog:[],accessManagement:{admin:[],users:[]}},user:{selectedItemByPage:20,startPaginationItem:1,endPaginationItem:20,indexShowAll:3,detailsUser:void 0,rowKeyChain:null,drawer:!1},shareKey:{start_date:kt()().format(),end_date:null,start_on_demand:null,end__on_demand:null,admin:!1,recurrency:"none",on_demand:!1,lock_group_ids:[],user_list_ids:[],lock_list_ids:[],shallowCopy:[]},map:{drawer:!1,usedKeys:[],currentFloor:{picture:null,name:null,markers:[],file_extension:null},floor_map:{name:null,picture:null,tutorial:!1}}},actions:{OPEN_GROUP_MAP_DRAWER:U,SET_SHARED_KEYS_LOCK_GROUPS_ID:K,SET_SHARED_KEYS_TO_SHARE:D,REFRESH_SHARE_KEY_FORM:N,SET_START_DATE_SHARED_KEY:T,SET_END_DATE_SHARED_KEY:I,SET_START_PAGINATION_USERS:A,SET_END_PAGINATION_USERS:j,SET_NB_ROW_USERS_TABLE:b,SET_PAGINATION_USERS_TABLE:_,SET_DETAILS_USER:w,SET_RIGHTS_SHARED_KEY:P,SET_ACCESS_MANAGEMENT:x,SET_ACTIVITY:C,SET_SHARED_KEY_USERS:O,OPEN_USER_DETAIL_DRAWER:k,OPEN_DETAILS_DRAWER:y,SET_PAGINATION_KEYCHAIN_TABLE:g,SET_NB_ROW_KEYCHAIN_TABLE:v,SET_DETAILS_KEYCHAIN:E,SET_START_PAGINATION_KEYCHAIN:S,SET_END_PAGINATION_KEYCHAIN:R},mutations:{OPEN_GROUP_MAP_DRAWER_DETAILS:nt,SET_SHARED_KEYS_LOCK_GROUPS:at,SET_SHARED_KEYS:rt,REFRESH_SHARE_KEY:et,SET_RULES:st,SET_START_DATE:X,SET_END_DATE:tt,SET_END_USERS:Z,SET_NB_ROW_USERS:B,SET_SHARED_KEY_USERS_ID:Q,SET_PAGINATION_USERS:z,SET_START_USERS:V,SET_USER:q,SET_MANAGEMENT:Y,SET_LOG:H,OPEN_USER_DRAWER:F,OPEN_DRAWER:G,SET_DETAILS_KEY:L,SET_PAGINATION_KEYCHAIN:M,SET_NB_ROW_KEYCHAIN:$,SET_START_KEYCHAIN:W,SET_END_KEYCHAIN:J}},Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["Overview"!==t.routeName&&"Keychain-map"!==t.routeName&&"Keychain-map-edit"!==t.routeName&&"Keychain-map-list"!==t.routeName&&"Keychain-map-details"!==t.routeName?s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid fixed-header"},[s("ul",{staticClass:"header-content"},[s("li",[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v(t._s(t.routeName))])]),s("li",{staticClass:"subheader-top"},[s("span",[t._v(t._s(t.getDescription))])]),s("li",{staticClass:"filter-container"},[s("br"),s("button",{staticClass:"transparent",on:{click:function(e){t.filterShow()}}},[s("drop-down",{attrs:{title:"Filter","title-classes":"nav-link specific-dropdown filter-table",customTitleFilter:"",icon:""}})],1)]),s("li",["Keychain"===t.routeName?s("div",{staticClass:"selector-item"},[s("router-link",{attrs:{to:"Keychain"}},[s("p",{staticClass:"item-text"},[s("img",{staticClass:"selector-img",attrs:{src:r("6+eD")}}),t._v(" list ")])]),s("router-link",{attrs:{to:"keychain-map-list"}},[s("p",{staticClass:"item-text"},[s("img",{staticClass:"selector-img",attrs:{src:r("v31x")}}),t._v(" Map")])])],1):t._e()]),s("transition",{attrs:{name:"fade"}},[t.showFiltersKeychain&&"Keychain"===t.routeName?s("li",{staticClass:"sub-filter"},[s("keychain-filter-table")],1):t._e()])],1),s("button",{staticClass:"navbar-toggler navbar-burger filter-button",attrs:{type:"button","aria-expanded":t.$sidebar.showSidebar,"aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[s("span",{staticClass:"navbar-toggler-bar"}),s("span",{staticClass:"navbar-toggler-bar"}),s("span",{staticClass:"navbar-toggler-bar"})]),t._m(0)])]):t._e(),"Keychain-map"===t.routeName?s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid fixed-header"},[s("ul",{staticClass:"header-content map-header"},[s("li",[t.store.state.map.currentFloor.picture?s("input",{directives:[{name:"model",rawName:"v-model",value:t.store.state.map.currentFloor.name,expression:"store.state.map.currentFloor.name"}],staticClass:"navbar-brand none-border",class:{"overlay-map":t.store.state.map.floor_map.tutorial},attrs:{placeholder:"My first map",href:"#"},domProps:{value:t.store.state.map.currentFloor.name},on:{input:function(e){e.target.composing||t.$set(t.store.state.map.currentFloor,"name",e.target.value)}}}):s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Keychain")])]),s("li",{staticClass:"filter-container"},[s("button",{staticClass:"action-map-button save-action",on:{click:t.saveMap}},[s("img",{attrs:{src:r("5uvX")}}),t._v(" Save change and exit\r\n        ")]),s("button",{staticClass:"action-map-button cancel-action",on:{click:t.cancel}},[s("img",{staticClass:"cancel-action-map",attrs:{src:r("QYzC")}}),t._v("\r\n                \r\n        Cancel\r\n\r\n        ")])]),s("transition",{attrs:{name:"fade"}},[t.showFiltersKeychain&&"Keychain"===t.routeName?s("li",{staticClass:"sub-filter"},[s("keychain-filter-table")],1):t._e()])],1),s("button",{staticClass:"navbar-toggler navbar-burger filter-button",attrs:{type:"button","aria-expanded":t.$sidebar.showSidebar,"aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[s("span",{staticClass:"navbar-toggler-bar"}),s("span",{staticClass:"navbar-toggler-bar"}),s("span",{staticClass:"navbar-toggler-bar"})]),t._m(1)])]):t._e()])},xt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav ml-auto"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav ml-auto"})])}],Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"filter-section"},[r("drop-down",{attrs:{title:"Key group","title-classes":"nav-link specific-dropdown left-margin",icon:""}}),r("drop-down",{attrs:{title:"User group","title-classes":"nav-link specific-dropdown left-margin ",icon:""}}),r("drop-down",{attrs:{title:"Users","title-classes":"nav-link specific-dropdown left-margin",icon:""}}),r("drop-down",{attrs:{title:"Lock status","title-classes":"nav-link specific-dropdown left-margin",icon:""}})],1)},St=[],Rt={},At=Rt,jt=(r("0yir"),Object(c["a"])(At,Et,St,!1,null,null,null)),Ot=jt.exports,Pt={getAllFloorGroupMaps:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.floor_map_groups,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getOneFloorGroupMaps:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.floor_map_groups+"/"+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAllFloorMaps:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.maps,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAllFloorGroupMapsWithFloorMapsAndPictures:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.groups_with_floor_maps,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getOneFloorMaps:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.floor_map_details+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return r=t.sent,t.next=5,r.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),addNewFloorMap:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAllFloorGroupMaps();case 2:return r=t.sent,s={floor_map:{name:e.name,floor_map_group_id:r[0].id,positions:JSON.stringify(e.markers),file_extension:"png",base64_picture:e.picture}},t.next=6,fetch(ct+ut.floor_map,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify(s)});case 6:return a=t.sent,t.next=9,a.json();case 9:return n=t.sent,t.abrupt("return",n);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),updateFloorMap:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.id,e.positions=JSON.stringify(e.markers),delete e.markers,delete e.id,delete e.showHover,delete e.existing_status,e.base64_picture=e.picture,delete e.picture,t.next=10,pt()({method:"patch",url:ct+ut.floor_map+r,data:{floor_map:e},headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 10:if(s=t.sent,200===s.status){t.next=15;break}return t.abrupt("return",!1);case 15:return t.abrupt("return",!0);case 16:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},Tt={components:{KeychainFilterTable:Ot},mounted:function(){var t=this;this.$root.$on("show_top_name_navbar",function(e){return t.showTopMapNavbar=e})},computed:{routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)},getDescription:function(){var t=this,e="";return this.$route.matched.forEach(function(r){r.name===t.$route.name&&(e=r.props.default.description)}),e}},data:function(){return{showFiltersKeychain:!1,activeNotifications:!1,showTopMapNavbar:!1,store:wt,descriptionNameMap:null}},methods:{cancel:function(){return this.store.state.map.currentFloor.picture=null,this.store.state.map.currentFloor.name=null,this.store.actions.OPEN_GROUP_MAP_DRAWER(!1),this.$notify({message:"Map import canceled",type:"info",timeout:2e3,horizontalAlign:"center",verticalAlign:"top"}),this.$router.push("Keychain-map-list")},saveMap:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.store.state.map.currentFloor.picture){t.next=2;break}return t.abrupt("return");case 2:if(this.store.state.map.currentFloor.name){t.next=4;break}return t.abrupt("return",this.$notify({message:"Map title is required before saving",type:"danger",timeout:2e3,horizontalAlign:"center",verticalAlign:"top"}));case 4:return t.next=6,Pt.addNewFloorMap(Object(ot["a"])({},this.store.state.map.currentFloor));case 6:if(e=t.sent,this.store.actions.OPEN_GROUP_MAP_DRAWER(!1),!e){t.next=12;break}return t.abrupt("return",this.$router.push("Keychain-map-list"));case 12:return t.abrupt("return",this.$notify({message:"Internal error happened during save",type:"danger",timeout:2e3,horizontalAlign:"center",verticalAlign:"top"}));case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},filterShow:function(){this.showFiltersKeychain=!this.showFiltersKeychain},toggleNotificationDropDown:function(){this.activeNotifications=!this.activeNotifications},closeDropDown:function(){this.activeNotifications=!1},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)}}},It=Tt,Nt=(r("gY9p"),Object(c["a"])(It,Ct,xt,!1,null,null,null)),Dt=Nt.exports,Kt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer fixed"},[r("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),r("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-between vertical-centering"},[r("nav",[r("ul",[r("li",[r("button",{staticClass:"item-table-selector pointer selector-last-page center-selector left-selector ",class:{activeButton:20===t.store.state.keychain.selectedItemByPage},on:{click:function(e){t.setPaginationTable(20)}}},[t._v("20")]),r("button",{staticClass:"item-table-selector pointer center-selector",class:{activeButton:50===t.store.state.keychain.selectedItemByPage},attrs:{disabled:t.store.state.keychain.rowKeyChain<50},on:{click:function(e){t.setPaginationTable(50)}}},[t._v("50")]),r("button",{staticClass:"item-table-selector pointer selector-next-page center-selector right-selector ",class:{activeButton:100===t.store.state.keychain.selectedItemByPage},attrs:{disabled:t.store.state.keychain.rowKeyChain<100},on:{click:function(e){t.setPaginationTable(100)}}},[t._v("100")]),t._v(" keys per page\n        ")]),r("li",{staticClass:"fixed-bottom-right"},[t._v("\n          "+t._s(t.store.state.keychain.startPaginationItem)+" - "+t._s(t.store.state.keychain.endPaginationItem)+" of "+t._s(t.filterRow)+"\n           "),r("button",{staticClass:"item-table-selector arrow pointer selector-last-page",attrs:{disabled:1===t.store.state.keychain.startPaginationItem},on:{click:function(e){t.move("backward")}}},[r("i",{staticClass:"ti-angle-left grey"})]),r("button",{staticClass:"item-table-selector arrow pointer selector-next-page",attrs:{disabled:t.store.state.keychain.endPaginationItem<=20},on:{click:function(e){t.move("forward")}}},[r("i",{staticClass:"ti-angle-right grey"})])])])]),r("div",{staticClass:"copyright d-flex flex-wrap"})])],1)},Ut=[],Mt={data:function(){return{store:wt}},mounted:function(){this.setPaginationTable(20)},computed:{filterRow:function(){return wt.state.keychain.rowKeyChain>20?wt.state.keychain.rowKeyChain:wt.state.keychain.endPaginationItem}},methods:{setPaginationTable:function(t){wt.state.keychain.rowKeyChain<t?this.store.actions.SET_END_PAGINATION_KEYCHAIN(wt.state.keychain.rowKeyChain):(this.store.actions.SET_PAGINATION_KEYCHAIN_TABLE(t),this.store.actions.SET_END_PAGINATION_KEYCHAIN(t))},move:function(t){if("forward"===t){if(wt.state.keychain.selectedItemByPage+wt.state.keychain.startPaginationItem>wt.state.keychain.rowKeyChain||wt.state.keychain.selectedItemByPage+wt.state.keychain.endPaginationItem+1>wt.state.keychain.rowKeyChain)return this.setPaginationTable(wt.state.keychain.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_KEYCHAIN(wt.state.keychain.selectedItemByPage+wt.state.keychain.startPaginationItem),this.store.actions.SET_END_PAGINATION_KEYCHAIN(wt.state.keychain.selectedItemByPage+wt.state.keychain.endPaginationItem+1)}else{if(wt.state.keychain.selectedItemByPage-wt.state.keychain.startPaginationItem>wt.state.keychain.startPaginationItem||wt.state.keychain.selectedItemByPage-wt.state.keychain.endPaginationItem>wt.state.keychain.endPaginationItem)return this.setPaginationTable(wt.state.keychain.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_KEYCHAIN(wt.state.keychain.startPaginationItem-wt.state.keychain.selectedItemByPage),this.store.actions.SET_END_PAGINATION_KEYCHAIN(wt.state.keychain.endPaginationItem-1-wt.state.keychain.selectedItemByPage)}}}},$t=Mt,zt=(r("sUPs"),Object(c["a"])($t,Kt,Ut,!1,null,null,null)),Bt=zt.exports,Lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer fixed"},[r("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),r("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-between vertical-centering"},[r("nav",[r("ul",[r("li",[r("button",{staticClass:"item-table-selector pointer selector-last-page center-selector left-selector ",class:{activeButton:20===t.store.state.user.selectedItemByPage},attrs:{disabled:t.store.state.user.rowKeyChain<20},on:{click:function(e){t.setPaginationTable(20)}}},[t._v("20")]),r("button",{staticClass:"item-table-selector pointer center-selector",class:{activeButton:50===t.store.state.user.selectedItemByPage},attrs:{disabled:t.store.state.user.rowKeyChain<50},on:{click:function(e){t.setPaginationTable(50)}}},[t._v("50")]),r("button",{staticClass:"item-table-selector pointer selector-next-page center-selector right-selector",class:{activeButton:100===t.store.state.user.selectedItemByPage},attrs:{disabled:t.store.state.user.rowKeyChain<100},on:{click:function(e){t.setPaginationTable(100)}}},[t._v("100")]),t._v(" users per page\n        ")]),r("li",{staticClass:"fixed-bottom-right"},[t._v("\n          "+t._s(t.store.state.user.startPaginationItem)+" - "+t._s(t.store.state.user.endPaginationItem)+" of "+t._s(t.filterRow)+"\n           "),r("button",{staticClass:"item-table-selector arrow pointer selector-last-page",attrs:{disabled:1===t.store.state.user.startPaginationItem},on:{click:function(e){t.move("backward")}}},[r("i",{staticClass:"ti-angle-left grey"})]),r("button",{staticClass:"item-table-selector arrow pointer selector-next-page",attrs:{disabled:t.store.state.user.endPaginationItem===t.filterRow},on:{click:function(e){t.move("forward")}}},[r("i",{staticClass:"ti-angle-right grey"})])])])]),r("div",{staticClass:"copyright d-flex flex-wrap"})])],1)},Gt=[],Ft={data:function(){return{store:wt}},mounted:function(){this.setPaginationTable(20)},computed:{filterRow:function(){return wt.state.user.rowKeyChain>20?wt.state.user.rowKeyChain:wt.state.user.endPaginationItem}},methods:{setPaginationTable:function(t){wt.state.user.rowKeyChain<t?this.store.actions.SET_END_PAGINATION_USERS(wt.state.user.rowKeyChain):(this.store.actions.SET_PAGINATION_USERS_TABLE(t),this.store.actions.SET_END_PAGINATION_USERS(t))},move:function(t){if("forward"===t){if(wt.state.user.selectedItemByPage+wt.state.user.startPaginationItem>wt.state.user.rowKeyChain||wt.state.user.selectedItemByPage+wt.state.user.endPaginationItem+1>wt.state.user.rowKeyChain)return this.setPaginationTable(wt.state.user.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_USERS(wt.state.user.selectedItemByPage+wt.state.user.startPaginationItem),this.store.actions.SET_END_PAGINATION_USERS(wt.state.user.selectedItemByPage+wt.state.user.endPaginationItem+1)}else{if(wt.state.user.selectedItemByPage-wt.state.user.startPaginationItem>wt.state.user.startPaginationItem||wt.state.user.selectedItemByPage-wt.state.user.endPaginationItem>wt.state.user.endPaginationItem)return this.setPaginationTable(wt.state.user.rowKeyChain+1);this.store.actions.SET_START_PAGINATION_USERS(wt.state.user.startPaginationItem-wt.state.user.selectedItemByPage),this.store.actions.SET_END_PAGINATION_USERS(wt.state.user.endPaginationItem-1-wt.state.user.selectedItemByPage)}}}},Ht=Ft,Yt=Object(c["a"])(Ht,Lt,Gt,!1,null,null,null),Wt=Yt.exports,Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"container-fluid"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[r("router-view")],1)],1)])},Vt=[],Zt={},qt=Zt,Qt=(r("WMk7"),Object(c["a"])(qt,Jt,Vt,!1,null,null,null)),Xt=Qt.exports,te=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid fixed-header"},[s("ul",{staticClass:"header-content map-header"},[s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.store.state.map.currentFloor.name,expression:"store.state.map.currentFloor.name"}],staticClass:"navbar-brand no-border",attrs:{placeholder:"Give a name to this map",href:"#"},domProps:{value:t.store.state.map.currentFloor.name},on:{input:function(e){e.target.composing||t.$set(t.store.state.map.currentFloor,"name",e.target.value)}}})]),s("li",{staticClass:"filter-container"},[s("button",{staticClass:"action-map-button save-action",on:{click:t.saveMap}},[s("img",{attrs:{src:r("5uvX")}}),t._v(" Save change and exit\n    ")]),s("button",{staticClass:"action-map-button cancel-action",on:{click:t.cancel}},[s("img",{staticClass:"cancel-action-map",attrs:{src:r("QYzC")}}),t._v("\n            \n    Cancel\n\n    ")])])]),t._m(0)])])},ee=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav ml-auto"})])}],re={data:function(){return{store:wt}},methods:{saveMap:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=Object(ot["a"])({},this.store.state.map.currentFloor),t.next=3,Pt.updateFloorMap(e);case 3:if(r=t.sent,!r){t.next=8;break}return t.abrupt("return",this.notifyUpdate("Floor map updated with success","success"));case 8:return t.abrupt("return",this.notifyUpdate("An error ocurred during update","danger"));case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),notifyUpdate:function(t,e){this.$notify({message:t,type:e,horizontalAlign:"right",timeout:2e3,verticalAlign:"top"})},cancel:function(){this.store.actions.OPEN_GROUP_MAP_DRAWER(!1),this.$router.push("Keychain-map-details")}}},se=re,ae=(r("e4Sz"),Object(c["a"])(se,te,ee,!1,null,"5883256a",null)),ne=ae.exports,ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},oe=[],ce={},ue=ce,le=(r("bcA2"),Object(c["a"])(ue,ie,oe,!1,null,null,null)),pe=le.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid fixed-header"},[s("ul",{staticClass:"header-content map-header"},[s("li",[s("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v(t._s(t.store.state.map.currentFloor.name))])]),s("li",{staticClass:"filter-container"},[s("button",{staticClass:"action-map-button go-back-button",on:{click:function(e){t.goToList()}}},[s("img",{staticClass:"map-actions",attrs:{src:r("s4kg")}}),t._v(" See all map\n    ")]),s("button",{staticClass:"action-map-button new-map",on:{click:function(e){t.goToEdit()}}},[s("img",{staticClass:"map-actions",attrs:{src:r("O/e6")}}),t._v("\n            \n    Editor\n\n    ")]),t._m(0)])]),t._m(1)])])},me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"action-map-button new-map"},[s("img",{staticClass:"map-actions",attrs:{src:r("TH51")}}),t._v("\n            \n    Filter\n\n    ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav ml-auto"})])}],he={data:function(){return{store:wt}},methods:{goToList:function(){this.store.state.map.currentGroup=null,this.$router.push("Keychain-map-list")},goToEdit:function(){this.$router.push("Keychain-map-edit")}}},fe=he,ge=(r("/N4A"),Object(c["a"])(fe,de,me,!1,null,"14210088",null)),ve=ge.exports,_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[s("div",{staticClass:"container-fluid fixed-header"},[s("ul",{staticClass:"header-content map-header"},[t._m(0),s("li",{staticClass:"filter-container"},[t._m(1),s("button",{staticClass:"action-map-button new-map",on:{click:t.newMap}},[s("img",{staticClass:"map-actions",attrs:{src:r("PdgU")}}),t._v("\n            \n    New map\n\n    ")])])]),t._m(2)])])},be=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Keychain")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"action-map-button filter-map"},[s("img",{staticClass:"map-actions",attrs:{src:r("TH51")}}),t._v(" Filter\n    ")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav ml-auto"})])}],ye={data:function(){return{store:wt}},methods:{newMap:function(){this.store.state.map.currentFloor={name:null,picture:null,markers:[],file_extension:"png"},this.$router.push("Keychain-map")}}},ke=ye,we=(r("Omx+"),Object(c["a"])(ke,_e,be,!1,null,"2ac884af",null)),Ce=we.exports,xe={data:function(){return{show:!0,store:wt}},components:{TopNavbar:Dt,ContentFooter:Bt,DashboardContent:Xt,MobileMenu:pe,UserFooter:Wt,TopNavbarDetailsGroup:ve,TopNavBarMapList:Ce,TopNavbarEditFloorMaps:ne},computed:{getCurrentRoute:function(){return this.$route.name}},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},emptyMapStepper:function(){wt.state.map.floor_map.picture=null,wt.state.map.floor_map.name=null,wt.state.map.floor_map.tutorial=!1,wt.state.map.drawer=!1}}},Ee=xe,Se=(r("IF+9"),r("h3yY"),Object(c["a"])(Ee,d,m,!1,null,null,null)),Re=Se.exports,Ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"limiter"},[r("div",{staticClass:"container-login100"},[r("div",{staticClass:"wrap-login100"},[t._m(0),r("div",{staticClass:"form-container"},[r("div",{staticClass:"login100-form validate-form"},[t._m(1),r("div",{staticClass:"form-group"},[r("label",{staticClass:"label-input-login",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null}}},[t._v("Email or username")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.state.email_or_username,expression:"state.email_or_username"}],staticClass:"form-control form-control-lg custom-size havr-input",attrs:{placeholder:"Email or username",type:"text",name:"text"},domProps:{value:t.state.email_or_username},on:{input:function(e){e.target.composing||t.$set(t.state,"email_or_username",e.target.value)}}})]),r("br"),r("label",{staticClass:"label-input-login"},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.state.password,expression:"state.password"}],staticClass:"form-control form-control-lg custom-size havr-input",attrs:{placeholder:"Password",type:"password",name:"pass"},domProps:{value:t.state.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null},input:function(e){e.target.composing||t.$set(t.state,"password",e.target.value)}}}),r("div",{staticClass:"flex-sb-m w-full p-t-3 p-b-32 forgot-password"},[r("div",{staticClass:"contact100-form-checkbox"}),r("div",[r("router-link",{attrs:{to:"/forgot-password"}},[r("p",{staticClass:"forgot-password-label"},[t._v("Forgot Password ?")])])],1)]),r("br"),r("div",{staticClass:"container-login100-form-btn"},[r("button",{staticClass:"login100-form-btn havr-color",attrs:{disabled:""===t.state.password||""===t.state.email_or_username},on:{click:t.login}},[t._v("\n\t\t\t\t\t\t\t\t\tSign in\n\t\t\t\t\t\t\t\t")])]),r("router-link",{attrs:{to:"/create-account"}},[r("p",{staticClass:"new-account"},[t._v("First time here ? "),r("b",[t._v("Create an account")])])])],1)])])])])},je=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login100-more"},[s("img",{staticClass:"cover-img",attrs:{src:r("s6yX")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"login100-form-title p-b-43"},[s("img",{attrs:{src:r("Idma")}})])}],Oe={data:function(){return{state:{grant_type:"password",email_or_username:"",password:"",client_id:"web_plateform_client_id",user_agent:navigator.userAgent}}},mounted:function(){if(sessionStorage.getItem("token"))return this.$router.go(-1)},methods:{login:function(){var t=this;ht.login(this.state).then(function(e){return t.checkIfUserIsConnected()})},checkIfUserIsConnected:function(){if(!ft.account.access_token)return this.showErrMsg();this.$router.push("/keychain")},showErrMsg:function(){this.$notify({group:"foo",title:"Username or password is incorrect",type:"danger"})}}},Pe=Oe,Te=(r("wGdV"),Object(c["a"])(Pe,Ae,je,!1,null,"48b4261f",null)),Ie=Te.exports,Ne=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[void 0!==t.store.state.keychain.detailsKey?r("right-details-drawer"):t._e(),r("card",{staticClass:"card-plain"},[r("div",{staticClass:"table-full-width table-responsive"},[r("paper-table",{attrs:{type:"hover",data:t.table.data,columns:t.table.columns,maxRow:t.table.data.length}})],1)])],1)},De=[],Ke=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",[t.label?r("label",{staticClass:"control-label"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()]),t._t("addonLeft",[t.addonLeftIcon?r("span",{staticClass:"input-group-prepend"},[r("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]),r("input",t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._t("default"),t._t("addonRight",[t.addonRightIcon?r("span",{staticClass:"input-group-append"},[r("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()])],2)},Ue=[],Me=(r("xfY5"),{inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String},computed:{hasIcon:function(){var t=this.$slots,e=t.addonRight,r=t.addonLeft;return void 0!==e||void 0!==r||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}}),$e=Me,ze=(r("kqR+"),Object(c["a"])($e,Ke,Ue,!1,null,null,null)),Be=ze.exports,Le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[s("a",{staticClass:"nav-drop ",class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",[t.type?t._e():s("img",{attrs:{src:r("lLE7")}}),s("span",{class:{"margin-filter-table":t.customTitleFilter}},[t._v(" "+t._s(t.title)+" "),t.type?s("img",{staticClass:"dropdown-custom",class:{"rotate-custom-img":t.isOpen},attrs:{src:r("toxv")}}):t._e()])])],2),s("ul",{staticClass:"dropdown-menu custom-drop-down",class:{show:t.isOpen}},[t._t("default")],2)])},Ge=[],Fe={props:{tag:{type:String,default:"li"},type:String,title:String,customTitleFilter:Boolean,icon:String,titleClasses:[String,Object,Array]},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",!1)}}},He=Fe,Ye=(r("s8cg"),Object(c["a"])(He,Le,Ge,!1,null,null,null)),We=Ye.exports,Je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.data.length>0?s("table",{staticClass:"table margin",class:t.tableClass},[s("thead",[t._t("columns",t._l(t.columns,function(e,a){return s("th",{key:e,staticClass:"capitalize h",style:{zIndex:15+a}},[t._v(t._s(e)+" "),s("img",{staticClass:"filter-th",attrs:{src:r("uwTD")}})])}))],2),s("tbody",[t._l(t.data.slice(t.store.state.keychain.startPaginationItem-1,t.store.state.keychain.endPaginationItem),function(e,r){return s("tr",{key:r},[t._t("default",t._l(t.columns,function(r,a){return s("td",{key:a,staticClass:"margin-td capitalize",staticStyle:{cursor:"pointer"},on:{click:function(r){t.setDetailsItem(e)}}},[s("div",{staticClass:"container-table"},["status"===r&&"active"===e[r]?s("div",{staticClass:"valid"},[s("i",{staticClass:"ti-check light"})]):t._e(),"status"===r&&"inactive"===e[r]?s("div",[s("i",{staticClass:"ti-close inactive"})]):t._e(),t._v("\r\n           "+t._s(e[r]))])])}),{row:e})],2)}),s("div",{staticClass:"fixed-footer-separator"})],2)]):t._e()])},Ve=[],Ze=r("7pj7"),qe=r.n(Ze),Qe={name:"paper-table",data:function(){return{store:wt,userDataRepository:mt,notificationToReturn:[],accessManagement:{admin:[],users:[]}}},props:{columns:Array,data:Array,type:{type:String,default:"striped"},maxRow:{type:Number,default:0},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass:function(){return"table-".concat(this.type)}},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]},setDetailsItem:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("Normal"!==e.access){t.next=2;break}return t.abrupt("return",this.$notify({message:"Details lock door is not available with "+e.access+" access",type:"danger",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"}));case 2:if("inactive"!==e.status){t.next=4;break}return t.abrupt("return",this.$notify({message:"Details lock door is not available with "+e.status+" status",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}));case 4:return this.$notify({message:"Selected key : "+e["key name"],type:"info",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}),this.notificationToReturn=[],t.next=8,this.store.actions.SET_ACTIVITY([]);case 8:return t.sent,t.next=11,this.store.actions.SET_ACCESS_MANAGEMENT([]);case 11:return t.sent,this.accessManagement={admin:[],users:[]},this.store.state.keychain.keylog=[],r={},e.shared?(r=vt.a.filter(bt.shared_key,{door_lock_id:e.id}),r[0].id=r[0].door_lock_id,r[0].lock_group_id=r[0].door_lock.lock_group_id):r=vt.a.filter(bt.door_locks,{id:e.id}),t.next=18,this.getLockGroupFromId(r[0].lock_group_id);case 18:return r[0].lock_group_description=t.sent,t.next=21,this.store.actions.SET_DETAILS_KEYCHAIN(r[0]);case 21:return t.sent,t.next=24,_t.getAccessManagement(r[0].id);case 24:return s=t.sent,t.next=27,this.getAccessManagement(s);case 27:return t.sent,t.next=30,this.store.actions.SET_ACCESS_MANAGEMENT(this.accessManagement);case 30:return t.sent,t.next=33,_t.getLogs(r[0].id);case 33:if(t.sent,this.store.actions.OPEN_DETAILS_DRAWER(!0),0!==bt.actvityKey.length){t.next=37;break}return t.abrupt("return",this.store.actions.SET_ACTIVITY(!1));case 37:return t.next=39,this.getLogs();case 39:t.sent,this.store.actions.SET_ACTIVITY(this.notificationToReturn);case 41:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLogs:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(bt.actvityKey.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.buildLogs(e);case 2:s=t.sent,s&&r.notificationToReturn.push(s);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getAccessManagement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.buildLogs(e);case 2:r=t.sent,r&&r.admin&&s.accessManagement.admin.push(r),r&&!r.admin&&s.accessManagement.users.push(r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLockGroupFromId:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLockGroupFromId(e);case 2:if(r=t.sent,!r.parent_lock_group){t.next=5;break}return t.abrupt("return",r.parent_lock_group.description);case 5:return t.abrupt("return",r.description);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),buildLogs:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.user_id){t.next=18;break}return e.fullName=void 0,t.next=4,dt.retrieveUser(e.user_id);case 4:if(r=t.sent,!1!==r){t.next=7;break}return t.abrupt("return");case 7:if(s=vt.a.filter(mt.contactPictures,{id:e.user_id}),0===s.length){t.next=12;break}e.picture=s[0].img,t.next=16;break;case 12:return t.next=14,dt.getContactPicture(e.user_id);case 14:a=t.sent,e.picture=!1!==a?a.base64:void 0;case 16:return e.fullName=r.first_name+" "+r.last_name,t.abrupt("return",e);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Xe=Qe,tr=(r("sYXL"),Object(c["a"])(Xe,Je,Ve,!1,null,null,null)),er=tr.exports,rr=function(){var t,e,r,s=this,a=s.$createElement,n=s._self._c||a;return n(s.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":s.round},{"btn-block":s.block},{"btn-just-icon":s.icon},(t={},t["btn-"+s.type]=s.type&&!s.outline,t),(e={},e["btn-outline-"+s.type]=s.type&&s.outline,e),(r={},r["btn-"+s.size]=s.size,r),{"btn-link":s.simple}],attrs:{type:s.nativeType,disabled:s.disabled||s.loading}},[s._t("loading",[s.loading?n("i",{staticClass:"fa fa-spinner fa-spin"}):s._e()]),s._t("default")],2)},sr=[],ar={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},nr=ar,ir=(r("2cEd"),Object(c["a"])(nr,rr,sr,!1,null,null,null)),or=ir.exports,cr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[t.$slots.image?r("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?r("div",{staticClass:"card-header"},[t._t("header",[r("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?r("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()])],2):t._e(),t.$slots.default?r("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?r("div",{staticClass:"card-footer"},[r("hr"),t._t("footer")],2):t._e()],2)},ur=[],lr={name:"card",props:{title:String,subTitle:String}},pr=lr,dr=(r("UpLk"),Object(c["a"])(pr,cr,ur,!1,null,null,null)),mr=dr.exports,hr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("template",{slot:"header"},[t.$slots.title||t.title?r("h4",{staticClass:"card-title"},[t._t("title",[t._v("\n        "+t._s(t.title)+"\n      ")])],2):t._e(),r("p",{staticClass:"card-category"},[t._t("subTitle",[t._v("\n        "+t._s(t.subTitle)+"\n      ")])],2)]),r("div",[r("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),r("div",{staticClass:"footer"},[r("div",{staticClass:"chart-legend"},[t._t("legend")],2),r("hr"),r("div",{staticClass:"stats"},[t._t("footer")],2),r("div",{staticClass:"pull-right"})])])],2)},fr=[],gr=(r("a1Th"),{name:"chart-card",components:{Card:mr},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}}},data:function(){return{chartId:"no-id"}},methods:{initChart:function(t){var e="#".concat(this.chartId);t[this.chartType](e,this.chartData,this.chartOptions)},updateChartId:function(){var t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_".concat(e)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){var t=this;this.updateChartId(),r.e(0).then(r.t.bind(null,"uki+",7)).then(function(e){var r=e.default||e;t.$nextTick(function(){t.initChart(r)})})}}),vr=gr,_r=(r("gEPL"),Object(c["a"])(vr,hr,fr,!1,null,null,null)),br=(_r.exports,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("card",[r("div",[r("div",{staticClass:"row"},[t.$slots.header?r("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?r("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?r("div",[r("hr"),t._t("footer")],2):t._e()])])}),yr=[],kr={name:"stats-card",components:{Card:mr}},wr=kr,Cr=(r("1Rbe"),Object(c["a"])(wr,br,yr,!1,null,null,null)),xr=(Cr.exports,function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.user?s("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[s("div",{staticClass:"sidebar-wrapper",attrs:{id:"style-3"}},[s("div",{staticClass:"logo"},[s("a",{staticClass:"simple-text",attrs:{href:"#"}},[s("div",{staticClass:"logo-img"},[t.user.profile_picture?s("img",{attrs:{src:"data:image/png;base64,"+t.user.profile_picture,alt:""}}):s("img",{attrs:{src:r("D3HO"),alt:""}})]),s("span",{staticClass:"first-name-container"},[s("drop-down",{attrs:{type:"default",tag:"div",title:t.displayName}},[s("a",{staticClass:"dropdown-item",attrs:{href:"/#/edit-profil"}},[t._v("Profile")]),s("a",{staticClass:"dropdown-item",attrs:{href:"/#/my-devices"}},[t._v("Devices")]),s("a",{staticClass:"dropdown-item",attrs:{href:"/#/send-feedback"}},[t._v("Feedback")]),s("a",{staticClass:"dropdown-item",on:{click:function(e){t.logout()}}},[t._v("Log out")])])],1),s("div",{staticClass:"username-container"},[s("span",[t._v(" "+t._s(t.user.username))])])])]),t._t("default"),s("ul",{staticClass:"nav"},[s("moving-arrow",{attrs:{"move-y":t.arrowMovePx}}),t._t("links",t._l(t.sidebarLinks,function(t,e){return s("sidebar-link",{key:e,attrs:{to:t.path,name:t.name,icon:t.icon}})}))],2),s("div",{staticClass:"container-footer"},[s("router-link",{attrs:{to:"new-contact"}},[s("button",{staticClass:"newKey"},[s("b",[t._v("NEW CONTACT")])])]),s("router-link",{attrs:{to:"share-key"}},[s("button",{staticClass:"shareKey"},[s("b",[t._v("SHARE KEY")])])])],1)],2)]):t._e()}),Er=[],Sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"moving-arrow",style:t.arrowStyle})},Rr=[],Ar={props:{moveY:{type:Number,default:0}},computed:{arrowStyle:function(){return{transform:"translate3d(0px, ".concat(this.moveY,"px, 0px)")}}}},jr=Ar,Or=(r("W193"),Object(c["a"])(jr,Sr,Rr,!1,null,null,null)),Pr=Or.exports,Tr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar(e)}}},"component",t.$attrs,!1),[r("a",{staticClass:"nav-link margin-a"},[t._t("default",[t.icon?r("i",{staticClass:"branding",class:t.icon}):t._e(),r("p",[t._v(t._s(t.name))])])],2)])},Ir=[],Nr={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:function(){}},removeLink:{default:function(){}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive:function(){return this.$el.classList.contains("active")}},mounted:function(){this.addLink&&this.addLink(this)},beforeDestroy:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Dr=Nr,Kr=(r("zAMz"),Object(c["a"])(Dr,Tr,Ir,!1,null,null,null)),Ur=Kr.exports,Mr={props:{backgroundColor:{type:String,default:"black",validator:function(t){var e=["white","black","darkblue"];return-1!==e.indexOf(t)}},activeColor:{type:String,default:"success",validator:function(t){var e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:Pr,SidebarLink:Ur},computed:{arrowMovePx:function(){return this.linkHeight*this.activeLinkIndex}},data:function(){return{user:JSON.parse(sessionStorage.getItem("currentUser")),displayName:"",linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink:function(){var t=this;this.links.forEach(function(e,r){e.isActive()&&(t.activeLinkIndex=r)})},logout:function(){return window.sessionStorage.removeItem("currentUser"),window.sessionStorage.removeItem("token"),this.$router.push("login")},addLink:function(t){var e=this.$slots.links.indexOf(t.$vnode);this.links.splice(e,0,t)},removeLink:function(t){var e=this.links.indexOf(t);e>-1&&this.links.splice(e,1)}},mounted:function(){this.user&&(this.displayName=this.user.first_name+" "+this.user.last_name),this.$watch("$route",this.findActiveLink,{immediate:!0})}},$r=Mr,zr=(r("iP2a"),Object(c["a"])($r,xr,Er,!1,null,null,null)),Br=zr.exports,Lr={showSidebar:!1,sidebarLinks:[],displaySidebar:function(t){this.showSidebar=t}},Gr={install:function(t){var e=new t({data:{sidebarStore:Lr}});t.prototype.$sidebar=e.sidebarStore,t.component("side-bar",Br),t.component("sidebar-link",Ur)}},Fr=Gr,Hr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{toggled:!1===t.store.state.keychain.drawer},attrs:{id:"wrapper"}},[s("div",{attrs:{id:"sidebar-wrapper"}},[t.store.state.keychain.detailsKey?s("ul",{staticClass:"sidebar-nav"},[s("li",{staticClass:"sidebar-brand"},[s("transition",{attrs:{name:"fade"}},[t.store.state.keychain.drawer?s("img",{staticClass:"close-icon close-img",attrs:{src:r("qxi6")},on:{click:function(e){t.store.actions.OPEN_DETAILS_DRAWER(!1)}}}):t._e()])],1),s("li",{staticClass:"item"},[t.store.state.keychain.detailsKey.lock_group_description?s("p",{staticClass:"text-key-group"},[t._v(t._s(t.store.state.keychain.detailsKey.lock_group_description))]):t._e()]),s("li",[t.store.state.keychain.detailsKey.description?s("p",{staticClass:"text-key-name"},[t._v(t._s(t.store.state.keychain.detailsKey.description))]):t._e()]),t._m(0),s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:r("bKco")}}),t._v(" Battery charged at "),null===t.store.state.keychain.detailsKey.battery_level?s("span",[t._v("100 % ")]):s("span",[t._v(t._s(t.store.state.keychain.detailsKey.battery_level)+" % ")])])]),t._m(1),t.keychainRepository.actvityKey?s("li",{staticClass:"item"},[t.keychainRepository.actvityKey[t.keychainRepository.actvityKey.length-1]?s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:r("uouN")}}),t._v("  Locked ")]):t._e()]):t._e(),t.store.state.keychain.accessManagement.users.length>0||t.store.state.keychain.accessManagement.admin.length>0?s("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v("Access management")]):t._e(),t.store.state.keychain.accessManagement.admin.length>0?s("li",[s("div",{staticClass:"avatar-activity-container"},[t._l(t.store.state.keychain.accessManagement.admin.slice(0,5),function(t){return s("div",[void 0!==t.picture?s("img",{staticClass:"avatar-activity",attrs:{src:"data:image/png;base64,"+t.picture}}):s("img",{staticClass:"avatar-activity",attrs:{src:r("D3HO")}})])}),s("p",{staticClass:"text-sub-category avatar-number"},[t._v(" "+t._s(t.store.state.keychain.accessManagement.admin.length)+" admin(s)")])],2)]):t._e(),t.store.state.keychain.accessManagement.users.length>0?s("li",[s("div",{staticClass:"avatar-activity-container"},[t._l(t.store.state.keychain.accessManagement.users.slice(0,5),function(t){return s("div",[void 0!==t.picture?s("img",{staticClass:"avatar-activity",attrs:{src:"data:image/png;base64,"+t.picture}}):s("img",{staticClass:"avatar-activity",attrs:{src:r("D3HO")}})])}),s("p",{staticClass:"text-sub-category avatar-number"},[t._v(t._s(t.store.state.keychain.accessManagement.users.length)+" user(s)")])],2)]):t._e(),t._m(2),t.store.state.keychain.keylog.length>0?s("div",t._l(t.orderLog.slice(0,t.defaultIndexNotification),function(e){return void 0!==e.fullName?s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},[void 0!==e.picture?s("img",{staticClass:"detail-item notification-profile",attrs:{src:"data:image/png;base64,"+e.picture}}):s("img",{staticClass:"detail-item notification-profile",attrs:{src:r("D3HO")}}),t._v(" "+t._s(e.fullName)+"\n                        ")]),s("p",{staticClass:"sub-log"},["locked"===e.door_lock_status?s("span",[t._v("closed")]):s("span",[t._v("opened")]),t._v(" "+t._s(t.store.state.keychain.detailsKey.description)+" ")]),s("p",{staticClass:"sub-log timing"},[s("span",[t._v(t._s(t.getDiffTime(e.created_at))+" ago")])])]):t._e()})):t._e(),s("center",[s("br"),t.store.state.keychain.keylog.length>0?s("div",[5===t.defaultIndexNotification?s("span",{staticClass:"showAll keychain-notification load-more-container",on:{click:function(e){t.defaultIndexNotification=t.orderLog.length}}},[t._v("Load more")]):s("span",{staticClass:"showAll keychain-notification load-more-container",on:{click:function(e){t.defaultIndexNotification=5}}},[t._v("Close")])]):t._e()]),0===t.store.state.keychain.keylog.length?s("li",[t._m(3)]):t._e(),t.store.state.keychain.keylog?t._e():s("li",[s("p",{staticClass:"text-item"},[t._v("No recent activity")])])],1):t._e()])])},Yr=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v("Status")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},[s("img",{staticClass:"detail-item",attrs:{src:r("yGZV")}}),t._v("  No break-in in progress")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("p",{staticClass:"sub-nav",attrs:{href:"#"}},[t._v(" Activity")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sk-circle"},[r("div",{staticClass:"sk-circle1 sk-child"}),r("div",{staticClass:"sk-circle2 sk-child"}),r("div",{staticClass:"sk-circle3 sk-child"}),r("div",{staticClass:"sk-circle4 sk-child"}),r("div",{staticClass:"sk-circle5 sk-child"}),r("div",{staticClass:"sk-circle6 sk-child"}),r("div",{staticClass:"sk-circle7 sk-child"}),r("div",{staticClass:"sk-circle8 sk-child"}),r("div",{staticClass:"sk-circle9 sk-child"}),r("div",{staticClass:"sk-circle10 sk-child"}),r("div",{staticClass:"sk-circle11 sk-child"}),r("div",{staticClass:"sk-circle12 sk-child"})])}],Wr=(r("Vd3H"),{data:function(){return{store:wt,keychainRepository:bt,defaultIndexNotification:5}},computed:{orderLog:function(){return this.store.state.keychain.keylog.sort(function(t,e){return new Date(e.created_at)-new Date(t.created_at)})}},methods:{getDiffTime:function(t){var e=kt.a.utc(t).local(),r=kt.a.utc().local();return kt.a.duration(e.diff(r)).humanize()}}}),Jr=Wr,Vr=(r("kESj"),Object(c["a"])(Jr,Hr,Yr,!1,null,null,null)),Zr=Vr.exports,qr={components:{PaperTable:er,RightDetailsDrawer:Zr},data:function(){return{table:{title:"",columns:["key name","access","status","sharing"],data:[]},store:wt}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(sessionStorage.getItem("token")){t.next=2;break}return t.abrupt("return",this.$router.push("login"));case 2:return t.next=4,_t.getDoorLocks();case 4:return t.next=6,_t.getSharedK();case 6:this.parseDataTable(),this.store.actions.SET_NB_ROW_KEYCHAIN_TABLE(this.table.data.length),this.setMaxPagination(this.table.data.length);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{setMaxPagination:function(t){t<=20?this.store.actions.SET_END_PAGINATION_KEYCHAIN(t):this.store.actions.SET_END_PAGINATION_KEYCHAIN(20)},parseDataTable:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:bt.door_locks.map(function(t,r){e.table.data.push({id:t.id,"key name":t.description,access:"owner",status:t.existing_status,sharing:t.sharing})}),bt.shared_key.map(function(t,r){e.table.data.push({id:t.door_lock_id,shared:!0,"key name":t.door_lock.description,access:e.checkAccess(t.admin),status:e.checkStatus(t),sharing:t.sharing})});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),getNbUsers:function(t){return t||0},getNbUsersSharedKey:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.next=3,_t.getAccessManagement(e);case 3:return s=t.sent,t.abrupt("return",s);case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),checkAccess:function(t){return t?"admin":"Normal"},checkStatus:function(t){return t.start_date||t.end_date?kt()(t.start_date)>kt()()?"active in "+this.getDiffTime(t.start_date,"start"):null!==t.end_date&&kt()(t.end_date)<kt()()?"inactive":null!==t.end_date&&kt()(t.end_date)>kt()()?"end in "+this.getDiffTime(t.end_date,"end"):t.existing_status:"unlimited"},getDiffTime:function(t){var e=kt.a.utc(t).local(),r=kt.a.utc().local();return kt.a.duration(e.diff(r)).humanize()}}},Qr=qr,Xr=(r("0aRZ"),Object(c["a"])(Qr,Ne,De,!1,null,null,null)),ts=Xr.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/login"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"form-stepper-create-account"},[t._m(0),s("br"),s("br"),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.one}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.one}},[t._v("1")]),t._v(". Hello there, what's your firstname ?")]),s("div",{staticClass:"form-inline"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first_name,expression:"user.first_name"}],staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"eg. Jhon",required:""},domProps:{value:t.user.first_name},on:{click:function(e){t.currentStep=1},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.trigger("step2","normal",t.user.first_name)},input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please enter your first name.\n        ")])]),1===t.currentStep&&t.user.first_name.length>0?s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.one},attrs:{id:"formButton"},on:{click:function(e){t.trigger("step2","normal",t.user.first_name)}}},[t._v("NEXT")]):t._e()])]),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.two}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.two}},[t._v("2.")]),t._v(" And your last name ?")]),s("div",{staticClass:"form-inline"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.last_name,expression:"user.last_name"}],ref:"step2",staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{disabled:0===t.user.first_name.length,type:"text","aria-describedby":"emailHelp",placeholder:"eg. Doe",required:""},domProps:{value:t.user.last_name},on:{click:function(e){t.currentStep=2},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.trigger("step3","normal",t.user.last_name)},input:function(e){e.target.composing||t.$set(t.user,"last_name",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please enter your last name.\n        ")])]),t.currentStep===t.stepper.two&&t.user.last_name.length>0?s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.two},attrs:{id:"formButton"},on:{click:function(e){t.trigger("step3","normal",t.user.last_name)}}},[t._v("NEXT")]):t._e()])]),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.three}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.three}},[t._v("3.")]),t._v(" Whats your email ?")]),s("div",{staticClass:"form-inline"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],ref:"step3",staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{disabled:0===t.user.last_name.length&&t.currentStep<t.stepper.three,type:"email","aria-describedby":"emailHelp",placeholder:"eg. jhon@doe.com",required:""},domProps:{value:t.user.email},on:{click:function(e){t.currentStep=3},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.trigger("step4","email",t.user.email)},input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please enter your email.\n        ")])]),t.currentStep===t.stepper.three&&!1===t.checkEmailProcess?s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.three},attrs:{id:"formButton"},on:{click:function(e){t.trigger("step4","email",t.user.email)}}},[t._v("NEXT")]):t._e(),t.checkEmailProcess?s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})]):t._e()])]),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.four}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.four}},[t._v("4.")]),t._v(" Time to choose password")]),s("div",{staticClass:"form-inline"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],ref:"step4",staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{disabled:0===t.user.email.length,type:"password","aria-describedby":"emailHelp",placeholder:"8 characters min",required:""},domProps:{value:t.user.password},on:{click:function(e){t.currentStep=4},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.trigger("step5","password",t.user.password)},input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please enter a password.\n        ")])]),t.currentStep===t.stepper.four&&t.user.password?s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.four},attrs:{id:"formButton"},on:{click:function(e){t.trigger("step5","password",t.user.password)}}},[t._v("NEXT")]):t._e()])]),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.five}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.five}},[t._v("5. ")]),t._v(" Please confirm password")]),s("div",{staticClass:"form-inline"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPasswordData,expression:"checkPasswordData"}],ref:"step5",staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{disabled:0===t.user.password.length,type:"password","aria-describedby":"emailHelp",placeholder:"same as before",required:""},domProps:{value:t.checkPasswordData},on:{click:function(e){t.currentStep=5},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.trigger("step6","samePassword",t.checkPasswordData)},input:function(e){e.target.composing||(t.checkPasswordData=e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please confirm your password.\n        ")])]),t.checkPasswordData.length>0&&t.currentStep===t.stepper.five?s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.five},attrs:{id:"formButton"},on:{click:function(e){t.trigger("step6","samePassword",t.checkPasswordData)}}},[t._v("NEXT")]):t._e()])]),s("div",{staticClass:"section-form",class:{"hide-form":t.currentStep<t.stepper.six}},[s("label",{staticClass:"step-form",attrs:{for:"exampleInputEmail1"}},[s("span",{class:{baseColor:t.currentStep===t.stepper.six}},[t._v("6.")]),t._v(" Finally, choose a username")]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],ref:"step6",staticClass:"form-control form-control-lg custom-size havr-input ",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"eg. jhon02",required:""},domProps:{value:t.user.username},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.checkUsernameAndGoNextStep()},input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),s("div",{staticClass:"invalid-feedback"},[t._v("\n          Please enter a username.\n        ")])]),s("br"),t.currentStep!==t.stepper.six||t.checkUsernameProcess?t._e():s("button",{staticClass:"btn btn-primary havr-color margin-left",class:{activeButton:t.currentStep===t.stepper.six},attrs:{disabled:t.canCreateAccount},on:{click:function(e){t.checkUsernameAndGoNextStep()}}},[t._v("CREATE ACCOUNT")]),t.checkUsernameProcess?s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})]):t._e()]),s("img",{staticClass:"side-brand",attrs:{src:r("fv7C")}})])],1)},rs=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jumbo"},[r("h2",[r("b",[t._v("Create your Havr account ")])]),r("p",[t._v("Please enter or click a button to validate a line")])])}],ss=(r("Oyvg"),r("PSD3")),as=r.n(ss),ns={data:function(){return{checkPasswordData:"",currentStep:1,checkEmailProcess:!1,emailIsAlreadyTaken:!1,usernameIsAlreadyTaken:!1,checkUsernameProcess:!1,user:{email:"",username:"",first_name:"",last_name:"",password:""},stepper:{one:1,two:2,three:3,four:4,five:5,six:6},passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d.*)(?=.*\W.*)[a-zA-Z0-9\S]{8,50}$/m,usernameRegex:/[^A-Za-z0-9]/gm,emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},computed:{canCreateAccount:function(){for(var t in this.user)if(""===this.user[t].trim())return!0}},methods:{checkPassword:function(t){if(this.user.password.length<16){var e=RegExp(this.passwordRegex);if(!e.test(this.user.password))return this.notifyBadPassword()}this.currentStep++,this.$refs[t].focus()},checkSamePassword:function(t){if(this.user.password!==this.checkPasswordData)return this.$notify({message:"Error : Password dont match",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}),!1;this.currentStep++,this.$refs[t].focus()},checkUsernameAndGoNextStep:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=RegExp(this.usernameRegex),!e.test(this.user.username)){t.next=3;break}return t.abrupt("return",this.notifyBadFormatUsername());case 3:return this.checkUsernameProcess=!0,t.next=6,dt.checkUsernameOrEmail(this.user.username);case 6:if(r=t.sent,this.checkUsernameProcess=!1,!r.already_exists){t.next=13;break}return this.usernameIsAlreadyTaken=!0,t.abrupt("return",this.notifyEmailOrUsernameError("Username"));case 13:this.createAccount();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),checkEmailAndGoNextStep:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=RegExp(this.emailRegex),r.test(this.user.email)){t.next=3;break}return t.abrupt("return",this.notifyBadFormatEmail("Email"));case 3:return this.checkEmailProcess=!0,t.next=6,dt.checkUsernameOrEmail(this.user.email);case 6:if(s=t.sent,this.checkEmailProcess=!1,!s.already_exists){t.next=12;break}return t.abrupt("return",this.emailIsAlreadyTaken=!0);case 12:this.emailIsAlreadyTaken=!1,this.currentStep++,this.$refs[e].focus();case 15:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),trigger:function(t,e,r){var s=this;if(0!==r.length)return"email"===e?this.checkEmailAndGoNextStep(t).then(function(t){if(s.emailIsAlreadyTaken)return s.notifyEmailOrUsernameError("Email")}):"password"===e?this.checkPassword(t):"username"===e?this.checkUsernameAndGoNextStep().then(function(e){if(!e)return s.notifyEmailOrUsernameError("Username");s.currentStep++,s.$refs[t].focus()}):"samePassword"===e?this.checkSamePassword(t):(this.currentStep++,void this.$refs[t].focus())},notifyEmailOrUsernameError:function(t){this.$notify({message:"Error : "+t+" already taken",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},notifyBadFormatEmail:function(t){this.$notify({message:"Error : email format is incorrect",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},notifyBadFormatUsername:function(){this.$notify({message:"Error : username format is incorrect",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},notifyBadPassword:function(){this.$notify({message:"Error : password format is incorrect",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},createAccount:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.checkPasswordData===this.user.password){t.next=2;break}return t.abrupt("return");case 2:return e={user:this.user},t.next=5,dt.createUserAccount(e);case 5:t.sent,this.successNotification();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),successNotification:function(){var t=this;return as()({allowOutsideClick:!1,title:"Success",text:"Your account has been created with success !",type:"success",showCancelButton:!1,confirmButtonText:"Go to login page"}).then(function(e){e.value&&t.$router.push("login")})}}},is=ns,os=(r("ebDG"),Object(c["a"])(is,es,rs,!1,null,null,null)),cs=os.exports,us=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-group container-position main-panel col-12"},[r("div",{staticClass:"row"},[r("group-map-view")],1)])},ls=[],ps=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("right-details-drawer"),s("div",{staticClass:"content",style:{backgroundImage:"url(data:image/png;base64,"+t.store.state.map.currentFloor.picture+")",transform:"scale("+this.scale+")"},attrs:{id:"content"}},t._l(t.store.state.map.currentFloor.markers,function(e){return t.showMarkers?s("img",{key:e,staticClass:"key-marker",style:{left:e.x+"%",top:e.y+"%","margin-left":"-4em"},attrs:{src:r("9Sws")},on:{click:function(r){t.setDetailsItem(e.door_lock_id)}}}):t._e()})),s("nav",{staticClass:"zoom"},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item disabled zoom-paginator",on:{click:function(e){t.zoom(!0)}}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#",tabindex:"-1"}},[t._v("+")])]),s("li",{staticClass:"page-item disabled zoom-paginator",on:{click:function(e){t.zoom(!1)}}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#",tabindex:"-1"}},[t._v("-")])])])])],1)},ds=[],ms={data:function(){return{store:wt,userDataRepository:mt,notificationToReturn:[],accessManagement:{admin:[],users:[]},selectedFloor:1,showMarkers:!0,scale:.7}},components:{RightDetailsDrawer:Zr},methods:{zoom:function(t){this.scale=t?this.scale+.2:this.scale-.2},setSelectedFloor:function(t){this.showMarkers=!1,this.selectedFloor=t,this.showMarkers=!this.showMarkers},setDetailsItem:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getSpecificLockDoor(e);case 2:if(r=t.sent,"Normal"!==r.access){t.next=5;break}return t.abrupt("return",this.$notify({message:"Details lock door is not available with "+r.access+" access",type:"danger",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"}));case 5:if("inactive"!==r.status){t.next=7;break}return t.abrupt("return",this.$notify({message:"Details lock door is not available with "+r.status+" status",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}));case 7:return this.$notify({message:"Selected key : "+r.description,type:"info",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}),this.notificationToReturn=[],t.next=11,this.store.actions.SET_ACTIVITY([]);case 11:return t.sent,t.next=14,this.store.actions.SET_ACCESS_MANAGEMENT([]);case 14:return t.sent,this.accessManagement={admin:[],users:[]},this.store.state.keychain.keylog=[],s=r,t.next=20,this.getLockGroupFromId(s.lock_group_id);case 20:return s.lock_group_description=t.sent,t.next=23,this.store.actions.SET_DETAILS_KEYCHAIN(s);case 23:return t.sent,t.next=26,_t.getAccessManagement(s.id);case 26:return a=t.sent,t.next=29,this.getAccessManagement(a);case 29:return t.sent,t.next=32,this.store.actions.SET_ACCESS_MANAGEMENT(this.accessManagement);case 32:return t.sent,t.next=35,_t.getLogs(s.id);case 35:if(t.sent,this.store.actions.OPEN_DETAILS_DRAWER(!0),0!==bt.actvityKey.length){t.next=39;break}return t.abrupt("return",this.store.actions.SET_ACTIVITY(!1));case 39:return t.next=41,this.getLogs();case 41:t.sent,this.store.actions.SET_ACTIVITY(this.notificationToReturn);case 43:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getLockGroupFromId:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLockGroupFromId(e);case 2:if(r=t.sent,!r.parent_lock_group){t.next=5;break}return t.abrupt("return",r.parent_lock_group.description);case 5:return t.abrupt("return",r.description);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getAccessManagement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.buildLogs(e);case 2:r=t.sent,r&&r.admin&&s.accessManagement.admin.push(r),r&&!r.admin&&s.accessManagement.users.push(r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),buildLogs:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.user_id){t.next=18;break}return e.fullName=void 0,t.next=4,dt.retrieveUser(e.user_id);case 4:if(r=t.sent,!1!==r){t.next=7;break}return t.abrupt("return");case 7:if(s=vt.a.filter(mt.contactPictures,{id:e.user_id}),0===s.length){t.next=12;break}e.picture=s[0].img,t.next=16;break;case 12:return t.next=14,dt.getContactPicture(e.user_id);case 14:a=t.sent,e.picture=!1!==a?a.base64:void 0;case 16:return e.fullName=r.first_name+" "+r.last_name,t.abrupt("return",e);case 18:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},hs=ms,fs=(r("9Yl6"),Object(c["a"])(hs,ps,ds,!1,null,"0f0fbccc",null)),gs=fs.exports,vs={data:function(){return{}},components:{GroupMapView:gs}},_s=vs,bs=(r("sHPP"),Object(c["a"])(_s,us,ls,!1,null,"d62c8602",null)),ys=bs.exports,ks=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/login"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"form-stepper-create-account"},[s("div",{staticClass:"jumbo"},[t._m(0),t.existingUser?t._e():s("p",[t._v("Dont't worry, we'got you back !")]),t.existingUser?s("p",[t._v("We sent an email to "+t._s(t.email_or_username)+" to reset your password")]):t._e(),t.existingUser?s("p",[t._v("Just check your emails and follow the instructions")]):t._e()]),s("br"),t.existingUser?t._e():s("div",{staticClass:"section-form"},[s("div",[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email_or_username,expression:"email_or_username"}],staticClass:"form-control form-control-lg custom-size havr-input",attrs:{type:"text",id:"inputForm","aria-describedby":"emailHelp",placeholder:"Enter your email or username",required:""},domProps:{value:t.email_or_username},on:{input:function(e){e.target.composing||(t.email_or_username=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary havr-color",attrs:{id:"formButton"},on:{click:function(e){t.checkEmailAndGoNextStep()}}},[t._v("Sign in")])])]),s("img",{staticClass:"side-brand",attrs:{src:r("fv7C")}})])],1)},ws=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h2",[r("b",[t._v("Lost password ")])])}],Cs={data:function(){return{email_or_username:"",existingUser:!1}},methods:{checkEmailAndGoNextStep:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt.checkUsernameOrEmail(this.email_or_username);case 2:if(e=t.sent,this.existingUser=e.already_exists,this.existingUser){t.next=6;break}return t.abrupt("return",this.notifyEmailOrUsernameError());case 6:r=dt.forgotPassword(this.email_or_username),r||this.$notify({message:"Error : An enexpected error occured.",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"});case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),notifyEmailOrUsernameError:function(t){this.$notify({message:"Error : email or username is not recognized",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},successNotification:function(){}}},xs=Cs,Es=(r("47dP"),Object(c["a"])(xs,ks,ws,!1,null,null,null)),Ss=Es.exports,Rs=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ImportMaps"),t.store.state.map.drawer?r("GroupsDetailsDrawerMap"):t._e()],1)},As=[],js=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[null===t.store.state.map.currentFloor.picture?r("div",[r("center",{staticClass:"centered"},[r("input",{ref:"uploadMap",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:t.updateMapPicture}}),r("p",{staticClass:"title-no-maps "},[t._v("You don't have any map")]),r("button",{staticClass:"btn btn-primary havr-black-color map-button",attrs:{id:"formButton"},on:{click:t.uploadMap}},[t._v("Add a map")]),r("p",{staticClass:"title-advice"},[t._v(" Supported format : JPG, JPEG, PNG")]),r("p",{staticClass:"title-advice"},[t._v("Max size : 2 MB")])])],1):r("div",{staticClass:"maps-container"},[r("floor-map-edit",{class:{"overlay-map":t.store.state.map.floor_map.tutorial},attrs:{src:"data:image/png;base64,"+t.store.state.map.currentFloor.picture}}),t.tutoStep1?r("div",{staticClass:"step2Tuto"},[r("p",{staticClass:"title-no-maps "},[t._v("Give a name to this map here")]),r("button",{staticClass:"btn btn-primary havr-black-color map-button  tutoStep1Button",attrs:{id:"formButton"},on:{click:function(e){t.tutoStep1=!1,t.tutoStep2=!0}}},[t._v("OK")])]):t._e(),t.tutoStep2?r("div",{staticClass:"step1Tuto"},[r("p",{staticClass:"title-no-maps "},[t._v("Start by clicking on a group to see its keys")]),t.tutoStep2?r("button",{staticClass:"btn btn-primary havr-black-color map-button tutoStep2Button",attrs:{id:"formButton"},on:{click:function(e){t.store.state.map.floor_map.tutorial=!1,t.tutoStep2=!1}}},[t._v("OK")]):t._e()]):t._e()],1)])},Os=[],Ps=(r("epSk"),r("EVdn")),Ts=r.n(Ps),Is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"content",staticClass:"content d-flex justify-content-center",style:{backgroundImage:"url(data:image/png;base64,"+t.store.state.map.currentFloor.picture+")",transform:"scale("+this.scale+")","background-position":"center"},attrs:{id:"content"}},t._l(t.store.state.map.currentFloor.markers,function(e,a){return s("img",{key:e,staticClass:"key-marker",style:{left:e.x+"%",top:e.y+"%",position:"absolute","margin-left":"-4em",cursor:"pointer"},attrs:{draggable:"true",src:r("9Sws")},on:{dragstart:function(e){t.drag(t.event,a)},click:function(e){t.dragKey()}}})})),s("nav",{staticClass:"zoom"},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item disabled zoom-paginator",on:{click:function(e){t.zoom(!0)}}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#",tabindex:"-1"}},[t._v("+")])]),s("li",{staticClass:"page-item disabled zoom-paginator",on:{click:function(e){t.zoom(!1)}}},[s("a",{staticClass:"page-link text-secondary",attrs:{href:"#",tabindex:"-1"}},[t._v("-")])])])])])},Ns=[],Ds=(r("V1qt"),{data:function(){return{store:wt,scale:.8,currentMarkerDrag:null}},mounted:function(){this.showDrawer();var t=this;this.$refs.content.addEventListener("dragend",function(e){console.log("i pass here");var r=Ts()(this).offset(),s=e.pageX-r.left,a=e.pageY-r.top;if(a/(t.$refs.content.clientWidth*t.scale)*100<0||a/(t.$refs.content.clientWidth*t.scale)*100>100||s/(t.$refs.content.clientWidth*t.scale)*100<0||s/(t.$refs.content.clientWidth*t.scale)*100>100)return t.store.state.map.currentFloor.markers.splice(t.currentMarkerDrag,1),t.store.state.map.usedKeys.splice(t.store.state.map.usedKeys.indexOf(t.currentMarkerDrag,1)),t.$notify({message:"Marker has been replaced in the list",type:"info",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"});t.store.state.map.currentFloor.markers[t.currentMarkerDrag].y=a/(t.$refs.content.clientWidth*t.scale)*100,t.store.state.map.currentFloor.markers[t.currentMarkerDrag].x=s/(t.$refs.content.clientWidth*t.scale)*100},!1)},methods:{showDrawer:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.store.actions.OPEN_GROUP_MAP_DRAWER(!0);case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),drag:function(t,e){this.currentMarkerDrag=e},zoom:function(t){this.scale=t?this.scale+.2:this.scale-.2}}}),Ks=Ds,Us=(r("oQrJ"),Object(c["a"])(Ks,Is,Ns,!1,null,"572dfb88",null)),Ms=Us.exports,$s={components:{FloorMapEdit:Ms},data:function(){return{store:wt,tutoStep1:!0,tutoStep2:!1}},mounted:function(){var t=this;this.$root.$on("SAVE_MAP",function(){return t.saveMap()})},methods:{uploadMap:function(){this.$refs.uploadMap.click()},updateMapPicture:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},errorSizeMap:function(){this.$notify({message:"Map size is too large (max 2mb)",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},createImage:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:new Image,r=new FileReader,r.onload=function(t){if(t.total>2e5)return s.errorSizeMap();s.store.state.map.currentFloor.picture=t.target.result.substring(t.target.result.indexOf(",")+1),s.store.state.map.floor_map.tutorial=!0,s.store.actions.OPEN_GROUP_MAP_DRAWER(!0),s.$root.$emit("show_top_name_navbar",!0),s.$notify({message:"Map imported with success",type:"success",timeout:2e3,horizontalAlign:"center",verticalAlign:"top"})},r.readAsDataURL(e);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},zs=$s,Bs=(r("alHn"),Object(c["a"])(zs,js,Os,!1,null,null,null)),Ls=Bs.exports,Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"wrapper-map"}},[s("div",{staticClass:"sidebar-map",class:{"overlay-map":t.store.state.map.floor_map.tutorial},attrs:{id:"sidebar-wrapper"}},[s("li",{staticClass:"sidebar-brand"},[t.selectedGroup.id?s("img",{staticClass:"go-back-arrow",attrs:{src:r("s4kg")},on:{click:t.removeSelection}}):t._e(),t.selectedGroup.id?s("h3",{staticClass:"drawer-map-title"},[t._v(t._s(t.selectedGroup.description))]):s("h3",{staticClass:"drawer-map-title"},[t._v("Keychain")]),t.selectedGroup.id?t._e():s("p",{staticClass:"drawer-map-subtitle"},[t._v("Start by choosing a group to display its keys")])]),s("div",{staticClass:"container group-container"},[s("div",{staticClass:"row group-list"},[t.selectedGroup.id?s("KeyCardList",{attrs:{group:t.selectedGroup}}):s("groups-card-list")],1)])])])},Fs=[],Hs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{display:"contents"}},t._l(t.groups,function(e){return s("div",{key:e.id,staticClass:"col-6",on:{click:function(r){t.setGroup(e)}}},[s("div",{staticClass:"groups"},["personal"===e.lock_group_type?s("img",{staticClass:"icon-map-group",attrs:{src:r("SVzs")}}):s("img",{staticClass:"icon-map-group",attrs:{src:r("6JDy")}})]),s("p",{staticClass:"group-title"},[t._v(t._s(e.description))]),s("p",{staticClass:"group-title group-sub-title"},[t._v(t._s(e.locks.length)+" keys")])])}))},Ys=[],Ws={data:function(){return{store:wt,groups:[],keychain:[]}},methods:{getGroups:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLockGroupsWithDoorlocks();case 2:e=t.sent,this.groups=e.lock_groups,this.keychain=e.door_locks;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setGroup:function(t){if(0===t.locks.length)return this.$notify({message:"You aint got keys attached to this group",type:"danger",timeout:2e3,horizontalAlign:"center",verticalAlign:"top"});t.keys=this.keychain,this.$root.$emit("SET_GROUP",t)}},mounted:function(){this.getGroups()}},Js=Ws,Vs=Object(c["a"])(Js,Hs,Ys,!1,null,null,null),Zs=Vs.exports,qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.group.keys,function(e){return t.group.locks.includes(e.id)?s("button",{key:e.id,staticClass:"list-group-item list-group-item-action key-list-selector",class:{"disabled-marker":t.store.state.map.usedKeys.includes(e.id)},attrs:{draggable:"true",type:"button"},on:{click:function(r){t.addToContainer(e)}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.store.state.map.usedKeys.includes(e.id),expression:"store.state.map.usedKeys.includes(key.id) "}],staticClass:"dot-selector",attrs:{src:r("WDdm")}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.store.state.map.usedKeys.includes(e.id),expression:"!store.state.map.usedKeys.includes(key.id)"}],staticClass:"dot-selector",attrs:{src:r("0rN6")}}),s("span",{staticClass:"key-name"},[t._v(t._s(e.description))])]):t._e()}))},Qs=[],Xs={props:["group"],data:function(){return{store:wt}},methods:{addToContainer:function(t){this.store.state.map.currentFloor.markers.push({x:50,y:50,door_lock_id:t.id}),this.store.state.map.usedKeys.push(t.id),this.$notify({message:"Key "+t.description+" added on map",type:"success",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"})}}},ta=Xs,ea=(r("Invs"),Object(c["a"])(ta,qs,Qs,!1,null,"ceecf1dc",null)),ra=ea.exports,sa={components:{GroupsCardList:Zs,KeyCardList:ra},data:function(){return{store:wt,selectedGroup:{id:null},usedKeys:[]}},mounted:function(){var t=this;this.$root.$on("SET_GROUP",function(e){return t.selectedGroup=e}),this.getAllUsedKeys()},methods:{removeSelection:function(){this.selectedGroup={id:null}},getAllUsedKeys:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pt.getAllFloorMaps();case 2:e=t.sent,e.map(function(t){return JSON.parse(t.positions).forEach(function(t){r.usedKeys.push(t.door_lock_id)})}),this.store.state.map.usedKeys=this.usedKeys;case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},computed:{}},aa=sa,na=(r("VhKc"),Object(c["a"])(aa,Gs,Fs,!1,null,null,null)),ia=na.exports,oa={data:function(){return{store:wt}},components:{ImportMaps:Ls,GroupsDetailsDrawerMap:ia}},ca=oa,ua=(r("FvLw"),Object(c["a"])(ca,Rs,As,!1,null,null,null)),la=ua.exports,pa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-group container-position col-12"},[t.floor_maps.length>0?s("div",{staticClass:"row"},t._l(t.floor_maps,function(e){return s("div",{key:e.id,staticClass:"col-6"},[s("div",{staticClass:"card map-card",on:{mouseover:function(t){e.showHover=!0},mouseout:function(t){e.showHover=!1},click:function(r){t.seeDetails(e)}}},[s("div",{staticClass:"card-body-map"},[s("h5",{staticClass:"card-title"},[t._v(t._s(e.name))]),s("p",{staticClass:"card-text"},[t._v(t._s(e.markers.length)+" keys")])]),s("img",{staticClass:"card-img-top",attrs:{src:"data:image/png;base64,"+e.picture,alt:"Card image cap"}})]),s("center",[e.showHover?s("div",{staticClass:"hover-map"},[s("ul",[s("li",[s("center",[s("img",{attrs:{src:r("iJxc")}})])],1),s("li",[s("span",{staticClass:"hover-map-label"},[t._v("See "+t._s(e.name))])])])]):t._e()])],1)})):t._e()])},da=[],ma={data:function(){return{floor_maps:[],store:wt}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAllFloorMaps();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{seeDetails:function(t){this.store.state.map.currentFloor=t,this.$router.push("Keychain-map-details")},getAllFloorMaps:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pt.getAllFloorMaps();case 2:e=t.sent,e.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pt.getOneFloorMaps(e.id);case 2:s=t.sent,r.floor_maps.push(Object(ot["a"])({},e,{markers:JSON.parse(e.positions),picture:s.base64_picture,showHover:!1}));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}());case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},ha=ma,fa=(r("ut8J"),Object(c["a"])(ha,pa,da,!1,null,"62d6c568",null)),ga=fa.exports,va=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout-centered"},[r("edit-profil")],1)},_a=[],ba=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/keychain"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"layout-body"},[t._m(0),s("input",{directives:[{name:"show",rawName:"v-show",value:t.showHover,expression:"showHover"}],ref:"pictureInput",attrs:{type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg"},on:{change:t.updateProfilePicture}}),t.showEdit||null===t.user.profile_picture||""===t.newProfilePicture?t._e():s("div",{staticClass:"rounded profile",style:{"background-image":"url(data:image/png;base64,"+t.user.profile_picture+")"},on:{mouseover:function(e){t.showEdit=!0}}}),t.showEdit||null!==t.user.profile_picture||null!==t.newProfilePicture?t._e():s("img",{staticClass:"rounded profile",attrs:{src:r("D3HO")},on:{mouseover:function(e){t.showEdit=!0}}}),t.showEdit&&null!==t.user.profile_picture&&""!==t.newProfilePicture?s("div",{staticClass:"rounded hover-profile",style:{"background-image":"url(data:image/png;base64,"+t.user.profile_picture+")"},on:{mouseleave:function(e){t.showEdit=!1}}},[s("div",{staticClass:"profile-picture-container"},[s("p",{staticClass:"profile-picture-actions profile-picture-edit-button",on:{click:t.changePicture}},[t._v("Upload picture")]),s("p",{staticClass:"profile-picture-actions profile-picture-remove-button",on:{click:t.removePicture}},[t._v("Remove picture")])])]):t._e(),t.showEdit&&null===t.user.profile_picture&&null===t.newProfilePicture?s("div",{staticClass:"rounded hover-profile",style:{"background-image":"url("+t.imageUrl+")"},on:{mouseleave:function(e){t.showEdit=!1}}},[s("div",{staticClass:"profile-picture-container"},[s("p",{staticClass:"profile-picture-actions profile-picture-edit-button",on:{click:t.changePicture}},[t._v("Upload picture")]),s("p",{staticClass:"profile-picture-actions profile-picture-remove-button",on:{click:t.removePicture}},[t._v("Remove picture")])])]):t._e(),s("div",{staticClass:"section-form"},[s("div",[s("div",{staticClass:"form-group"},[s("form",{staticClass:"form-group"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",[t._v("First name *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first_name,expression:"user.first_name"}],staticClass:" havr-black-input  form-control ",attrs:{type:"text"},domProps:{value:t.user.first_name},on:{input:function(e){e.target.composing||t.$set(t.user,"first_name",e.target.value)}}})]),s("div",{staticClass:"col"},[s("label",[t._v("Last name *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.last_name,expression:"user.last_name"}],staticClass:" havr-black-input form-control ",attrs:{type:"text"},domProps:{value:t.user.last_name},on:{input:function(e){e.target.composing||t.$set(t.user,"last_name",e.target.value)}}})])])]),s("div",{staticClass:"form-group"},[s("label",[t._v("Username *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control havr-black-input",domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",[t._v("Email adress *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control havr-black-input",domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})])]),s("button",{staticClass:"btn btn-primary havr-black-color",attrs:{id:"formButton",disabled:t.hasChange},on:{click:t.updateProfil}},[t._v("Save")])]),s("p",{staticClass:"change-password",on:{click:function(e){t.showPasswordEditModal=!0,t.password=null}}},[t._v("Change password "),s("i",{staticClass:"fa fa-chevron-right align-center-icn",attrs:{"aria-hidden":"true"}})])])]),s("b-modal",{attrs:{"hide-footer":!0,"ok-title":"Save","hide-header":!0,"ok-variant":"havr-black-color",centered:""},model:{value:t.showPasswordEditModal,callback:function(e){t.showPasswordEditModal=e},expression:"showPasswordEditModal"}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Type in your current password *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control havr-black-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Type in your new password *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control havr-black-input",attrs:{type:"password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),s("small",{staticClass:"form-text text-muted"},[t._v("Min 8 characters, 1 Lowercase letter, 1 Uppercase letter, 1 number and 1 special character")])]),s("div",{staticClass:"form-group"},[s("label",[t._v("Confirm your new password *")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmNewPassword,expression:"confirmNewPassword"}],staticClass:"form-control havr-black-input",attrs:{type:"password"},domProps:{value:t.confirmNewPassword},on:{input:function(e){e.target.composing||(t.confirmNewPassword=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary havr-black-color modal-button",on:{click:t.updatePassword}},[t._v("Save")]),s("button",{staticClass:"btn btn-primary havr-black-inversed modal-button",on:{click:t.cancelPasswordValidation}},[t._v("Cancel")])]),s("b-modal",{attrs:{"hide-footer":!0,"ok-title":"Save","hide-header":!0,"ok-variant":"havr-black-color",centered:""},model:{value:t.showPasswordModal,callback:function(e){t.showPasswordModal=e},expression:"showPasswordModal"}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Please enter your password to save your modifications")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control havr-black-input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary havr-black-color modal-button",on:{click:t.updateEmail}},[t._v("Save")]),s("button",{staticClass:"btn btn-primary havr-black-inversed modal-button",on:{click:function(e){t.showPasswordModal=!t.showPasswordModal}}},[t._v("Cancel")])])],1)},ya=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jumbo"},[r("p",{staticClass:"container-title"},[r("b",[t._v("Edit your profile")])])])}],ka=r("Oluq"),wa=r("9CmV"),Ca=r("5ZeN"),xa={components:{"b-modal":ka["a"],PictureInput:Ca["a"]},directives:{"b-modal":wa["a"]},data:function(){return{showHover:!1,user:JSON.parse(sessionStorage.getItem("currentUser")),originalEmail:JSON.parse(sessionStorage.getItem("currentUser")).email,originalProfil:JSON.parse(sessionStorage.getItem("currentUser")),usernameRegex:/^[a-zA-Z0-9]+$/,passwordRegex:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d.*)(?=.*\W.*)[a-zA-Z0-9\S]{8,50}$/m,showPasswordModal:!1,showPasswordEditModal:!1,showUpdatePicture:null,showEdit:!1,newPassword:null,newProfilePicture:null,confirmNewPassword:null,password:null,emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},computed:{imageUrl:function(){return r("D3HO")},hasChange:function(){return this.user.username===this.originalProfil.username&&this.user.last_name===this.originalProfil.last_name&&this.user.first_name===this.originalProfil.first_name&&this.user.email===this.originalEmail&&this.user.profile_picture===this.originalProfil.profile_picture}},methods:{updateProfil:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r,s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(null===this.newProfilePicture){t.next=8;break}return t.next=3,dt.updateProfilePicture({extension:"jpeg",base64_picture:this.newProfilePicture.substring(this.newProfilePicture.indexOf(",")+1)});case 3:if(e=t.sent,e){t.next=6;break}return t.abrupt("return",this.notifyError("Error : profile picture is too big"));case 6:this.user.profile_picture=this.newProfilePicture.substring(this.newProfilePicture.indexOf(",")+1),sessionStorage.setItem("currentUser",JSON.stringify(this.user));case 8:if(r={username:this.user.username.trim(),last_name:this.user.last_name.trim(),first_name:this.user.first_name.trim()},this.checkInputs(r)){t.next=11;break}return t.abrupt("return",this.notifyError("Error : All fields are mandatory"));case 11:if(!1!==this.checkEmail(this.user.email)){t.next=13;break}return t.abrupt("return",this.notifyError("Error : Bad email format"));case 13:if(this.originalProfil.email===this.user.email){t.next=19;break}return t.next=16,dt.checkUsernameOrEmail(r.email);case 16:if(s=t.sent,!s.already_exists){t.next=19;break}return t.abrupt("return",this.notifyError("Error: Email is already used"));case 19:if(this.user.username===this.originalProfil.username){t.next=25;break}return t.next=22,dt.checkUsernameOrEmail(r.username);case 22:if(a=t.sent,!a.already_exists){t.next=25;break}return t.abrupt("return",this.notifyError("Error: Username is already used"));case 25:if(this.originalEmail===this.user.email){t.next=29;break}return t.abrupt("return",this.showPasswordValidationModal());case 29:this.saveProfil(r);case 30:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),changePicture:function(){this.$refs.pictureInput.click()},saveProfil:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==this.checkUsername(e.username)){t.next=2;break}return t.abrupt("return",this.notifyError("Error : Bad username format"));case 2:return t.next=4,dt.updateProfil(e,this.user.id);case 4:r=t.sent,r?(this.notifySuccess("Profil updated with success !",2e3),sessionStorage.setItem("currentUser",JSON.stringify(this.user)),this.user=JSON.parse(sessionStorage.getItem("currentUser")),this.originalProfil=JSON.parse(sessionStorage.getItem("currentUser")),this.originalEmail=JSON.parse(sessionStorage.getItem("currentUser")).email):this.notifyError("Error : Internal Error");case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),showPasswordValidationModal:function(){this.showPasswordModal=!0},updateEmail:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={email:this.user.email,password:this.password},t.next=3,dt.updateEmail(e);case 3:r=t.sent,r?(this.notifySuccess("We sent you an email to "+this.user.email+". Please click on the link inside the email to confirm your new email adress",5e3),this.showPasswordModal=!1):this.notifyError("Error : incorrect password"),this.saveProfil();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),updateProfilePicture:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){var e=this,r=(new Image,new FileReader);r.onload=function(t){e.newProfilePicture=t.target.result.substring(t.target.result.indexOf(",")+1),e.user.profile_picture=t.target.result.substring(t.target.result.indexOf(",")+1)},r.readAsDataURL(t)},removePicture:function(){this.user.profile_picture=null,this.newProfilePicture=null},updatePassword:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!1!==this.checkPasswordValidation(this.newPassword)){t.next=2;break}return t.abrupt("return",this.notifyError("Error: Password must be minimum 8 characters, 1 Lowercase letter, 1 Uppercase letter, 1 number and 1 special character."));case 2:if(this.newPassword===this.confirmNewPassword){t.next=4;break}return t.abrupt("return",this.notifyError("Error: Password confirmation dont match."));case 4:return e={new_password:this.newPassword,current_password:this.password},t.next=7,dt.updatePassword(e);case 7:r=t.sent,r?(this.showPasswordEditModal=!1,this.refreshPasswordEditForm(),this.notifySuccess("Password updated with success",2e3)):this.notifyError("Error: incorrect password");case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancelPasswordValidation:function(){this.showPasswordEditModal=!this.showPasswordEditModal,this.refreshPasswordEditForm()},refreshPasswordEditForm:function(){this.password=null,this.newPassword=null,this.confirmNewPassword=null},checkInputs:function(t){for(var e in t)if(""===t[e].trim())return!1;return!0},notifySuccess:function(t,e){return this.$notify({message:t,type:"success",timeout:e,horizontalAlign:"right",verticalAlign:"top"})},checkEmail:function(t){return RegExp(this.emailRegex).test(t)},checkUsername:function(t){return RegExp(this.usernameRegex).test(t)},checkPasswordValidation:function(t){return RegExp(this.passwordRegex).test(t)},notifyError:function(t){return this.$notify({message:t,type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})}}},Ea=xa,Sa=(r("0OOS"),Object(c["a"])(Ea,ba,ya,!1,null,null,null)),Ra=Sa.exports,Aa={components:{EditProfil:Ra}},ja=Aa,Oa=(r("im3h"),Object(c["a"])(ja,va,_a,!1,null,null,null)),Pa=Oa.exports,Ta=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout-centered"},[r("my-devices")],1)},Ia=[],Na=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/keychain"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"layout-body"},[t._m(0),s("div",{staticClass:"section-form device-container"},[s("div",{staticClass:"list-group"},t._l(t.devices,function(e){return"active"===e.existing_status?s("a",{key:e.id,staticClass:"list-group-item list-group-item-action flex-column align-items-start havr-list"},[s("div",{staticClass:"d-flex  justify-content-between havr-list-device"},["ios"===e.device_type?s("img",{staticClass:"havr-device-icon",attrs:{src:r("bhrD")}}):s("img",{staticClass:"havr-device-icon",attrs:{src:r("IMqa")}}),s("h5",{staticClass:"mb-1 black-havr-text"},[t._v(" \n      "+t._s(e.name))]),s("small",[s("img",{staticClass:"delete-device",attrs:{src:r("JZLc")},on:{click:function(r){t.currentDeviceId=e.id,t.showPasswordModal=!t.showPasswordModal}}})])]),s("small",{staticClass:"havr-device-subtext"},[t._v(t._s(e.humanized_date))])]):t._e()}))])]),s("b-modal",{attrs:{"hide-footer":!0,"ok-title":"Save","hide-header":!0,"ok-variant":"havr-black-color",centered:""},model:{value:t.showPasswordModal,callback:function(e){t.showPasswordModal=e},expression:"showPasswordModal"}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Please enter your password to confirm your action")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control havr-black-input",attrs:{type:"password"},domProps:{value:t.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.deleteDevice(e):null},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("button",{staticClass:"btn btn-primary havr-black-color modal-button",on:{click:t.deleteDevice}},[t._v("Delete")]),s("button",{staticClass:"btn btn-light havr-black-inversed modal-button",on:{click:function(e){t.showPasswordModal=!t.showPasswordModal,t.password=null}}},[t._v("Cancel")])])],1)},Da=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jumbo"},[r("p",{staticClass:"container-title"},[r("b",[t._v("My devices")])])])}],Ka={sendFeedBack:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.feedback,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({feedback:e})});case 2:if(r=t.sent,204!==r.status){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendBugReport:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.report_bug,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({bug_report:e})});case 2:if(r=t.sent,204!==r.status){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendCustomerService:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.custom_service,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({custom_service:e})});case 2:if(r=t.sent,204!==r.status){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),getDevices:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.devices,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")}});case 2:return e=t.sent,t.next=5,e.json();case 5:if(r=t.sent,!r){t.next=8;break}return t.abrupt("return",r);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),deleteDevice:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.devices+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({user:r})});case 2:if(s=t.sent,200!==s.status){t.next=5;break}return t.abrupt("return",!0);case 5:return t.abrupt("return",!1);case 6:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}()},Ua={data:function(){return{devices:null,currentDeviceId:null,password:null,showPasswordModal:!1}},components:{"b-modal":ka["a"]},mounted:function(){this.getDevices()},methods:{getDevices:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka.getDevices();case 2:e=t.sent,e&&(r=e.map(function(t){return Object(ot["a"])({},t,{humanized_date:"Added on "+kt()(t.created_at).format("LL")})}),this.devices=r.sort(function(t,e){return new Date(e.created_at)-new Date(t.created_at)}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),deleteDevice:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={password:this.password},t.next=3,Ka.deleteDevice(this.currentDeviceId,e);case 3:r=t.sent,r?(this.notify("success","Device deleted with success !"),this.getDevices(),this.showPasswordModal=!this.showPasswordModal,this.password=null):this.notify("danger","Incorrect password");case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),notify:function(t,e){this.$notify({type:t,message:e,timeout:2e3})}}},Ma=Ua,$a=(r("0shF"),Object(c["a"])(Ma,Na,Da,!1,null,null,null)),za=$a.exports,Ba={components:{MyDevices:za}},La=Ba,Ga=(r("vEnJ"),Object(c["a"])(La,Ta,Ia,!1,null,null,null)),Fa=Ga.exports,Ha=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"layout-centered"},[r("send-feed-back")],1)},Ya=[],Wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/keychain"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"layout-body"},[t._m(0),s("div",{staticClass:"section-form"},[s("div",[s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-group "},[s("label",[t._v("Category")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"form-control havr-black-input",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.category=e.target.multiple?r:r[0]}}},[s("option",[t._v("Feedback")]),s("option",[t._v("Bug report")]),s("option",[t._v("Customer service")])])]),s("div",{staticClass:"form-group"},[s("label",[t._v("Message")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control havr-black-input havr-black-textarea",attrs:{rows:"3"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])]),s("button",{staticClass:"btn btn-primary havr-black-color",attrs:{disabled:!t.message},on:{click:t.sendMessage}},[t._v("Send")])])])])],1)},Ja=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jumbo"},[r("p",{staticClass:"container-title"},[r("b",[t._v("Send us a message")])])])}],Va={data:function(){return{message:null,category:"Feedback"}},methods:{sendMessage:function(){var t={message:this.message};return"Feedback"===this.category?this.sendFeedBack(t):"Bug report"===this.category?this.sendBugReport(t):"Customer service"===this.category?this.sendCustomerService(t):void 0},sendFeedBack:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka.sendFeedBack(e);case 2:r=t.sent,this.notifyUser(this.isErr(r));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendBugReport:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka.sendBugReport(e);case 2:r=t.sent,this.notifyUser(this.isErr(r));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),sendCustomerService:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka.sendCustomerService(e);case 2:r=t.sent,this.notifyUser(this.isErr(r));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),isErr:function(t){return t?{message:"Message send with succes",type:"success"}:{message:"Internal error occured",type:"danger"}},notifyUser:function(t){this.$notify({message:t.message,type:t.type,timeout:2e3,horizontalAlign:"right",verticalAlign:"top"}),this.message=null}}},Za=Va,qa=(r("gH3j"),Object(c["a"])(Za,Wa,Ja,!1,null,null,null)),Qa=qa.exports,Xa={components:{SendFeedBack:Qa}},tn=Xa,en=(r("c/Al"),Object(c["a"])(tn,Ha,Ya,!1,null,null,null)),rn=en.exports,sn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"overview-container"},[t._m(0),t._m(1),r("br"),r("div",{staticClass:"container custom-width"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 col-sm-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("Activity metrics")]),r("p",{staticClass:"card-text"},[r("br"),r("ActivityMetrics",{attrs:{height:300}})],1)])])]),t._m(2),r("div",{staticClass:"col-lg-6 col-sm-12"},[r("div",{staticClass:"card custom-height-position"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("Live activity")]),r("br"),r("UserActivity")],1)])]),r("div",{staticClass:"col-lg-6 col-sm-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[t._v("Access requests")]),r("br"),r("UserActivity")],1)])])])])])},an=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"alert title-page custom-width",attrs:{role:"alert"}},[r("strong",[t._v("Overview")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"alert custom-alert",attrs:{role:"alert"}},[s("strong",[s("img",{staticClass:"alert-icon",attrs:{src:r("agjt")}}),t._v(" The lock “Entrance - Havr HQ” is running low on battery. ")]),s("div",{staticClass:"right-alert-content"},[s("span",{staticClass:"paginate-alert"},[t._v("1 of 14")]),s("div",{staticClass:"btn-group havr-switch",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-secondary prec-input",attrs:{type:"button"}},[s("img",{staticClass:"inverted-arrow button-arrow",attrs:{src:r("zi03")}})]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[s("img",{staticClass:"button-arrow",attrs:{src:r("zi03")}})])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v("Status map")]),s("p",{staticClass:"card-text"},[s("img",{staticClass:"key-map",attrs:{src:r("TgRb")}})]),s("div",{staticClass:"card-footer text-muted"},[s("span",{staticClass:"status-map-label"},[s("img",{attrs:{src:r("EeXV")}}),t._v(" Room 101")]),s("div",{staticClass:"right-alert-content"},[s("div",{staticClass:"btn-group havr-switch status-map",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-secondary prec-input",attrs:{type:"button"}},[s("img",{staticClass:"inverted-arrow button-arrow",attrs:{src:r("zi03")}})]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[s("img",{staticClass:"button-arrow",attrs:{src:r("zi03")}})])])])])])])])}],nn=r("H8ri"),on={extends:nn["a"],data:function(){return{options:{maintainAspectRatio:!1,responsive:!0,legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1,drawBorder:!1}}],yAxes:[{gridLines:{drawBorder:!1,display:!1}}]}}}},mounted:function(){this.renderChart({labels:["L","M","M","J","V","S","D"],datasets:[{label:"",backgroundColor:"#e6e6e6",fill:!1,data:[40,20,12,39,10,40,39,80,40,20,12,11]}]},this.options)}},cn=r("GBzZ"),un={components:{ActivityMetrics:on,UserActivity:cn["default"]}},ln=un,pn=(r("ykFJ"),Object(c["a"])(ln,sn,an,!1,null,"58456ac0",null)),dn=pn.exports,mn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-position col-12"},[r("div",{staticClass:"row"},[t.store.state.map.drawer?r("GroupsDetailsDrawerMap"):t._e(),r("floor-map-edit")],1)])},hn=[],fn={data:function(){return{store:wt}},components:{FloorMapEdit:Ms,GroupsDetailsDrawerMap:ia}},gn=fn,vn=(r("yDIJ"),Object(c["a"])(gn,mn,hn,!1,null,"78db8014",null)),_n=vn.exports,bn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/keychain"}},[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")}})]),s("div",{staticClass:"form-stepper-new-contact"},[t._m(0),s("br"),s("div",{staticClass:"section-form"},[s("div",[s("div",{staticClass:"form-group"},[t._l(t.contact,function(e,r){return s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact[r],expression:"contact[i]"}],staticClass:"form-control form-control-lg custom-size havr-input",attrs:{type:"text",id:"inputForm","aria-describedby":"emailHelp",placeholder:"Teammate #"+(r+1)+" email",required:""},domProps:{value:t.contact[r]},on:{input:function(e){e.target.composing||t.$set(t.contact,r,e.target.value)}}}),s("br")])}),s("p",[s("b",{staticClass:"pointer",on:{click:function(e){t.addInput(1)}}},[t._v("Add another")])])],2),s("button",{staticClass:"btn btn-primary havr-color",attrs:{disabled:!t.contact[0]},on:{click:function(e){t.sendInvitation()}}},[t._v("Send")])])]),s("img",{staticClass:"side-brand",attrs:{src:r("fv7C")}})])],1)},yn=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jumbo"},[r("h2",[r("b",[t._v("Invite members to Havr")])])])}],kn={addContact:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(ct+ut.add_contact,{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer: "+sessionStorage.getItem("token")},body:JSON.stringify({contact:{email_or_username:e}})});case 2:return r=t.sent,t.next=5,r.json();case 5:if(s=t.sent,!r.error){t.next=10;break}return t.abrupt("return",r.error);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},wn={data:function(){return{contact:[null],emailRegex:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}},mounted:function(){if(!window.sessionStorage.getItem("token"))return this.$router.push("login")},methods:{addInput:function(t){1===t&&this.contact.push(null)},sendInvitation:function(){var t=this;this.contact.forEach(function(){var e=Object(h["a"])(regeneratorRuntime.mark(function e(r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:if(t.emailRegex.test(r)){e.next=7;break}return e.next=5,t.notifyBadEmail(r);case 5:return e.sent,e.abrupt("return");case 7:return e.next=9,kn.addContact(r);case 9:if(s=e.sent,!s.error){e.next=12;break}return e.abrupt("return",t.notifyAddContact("danger",s.error));case 12:t.notifyAddContact("success",r+" is invited with success");case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},notifyAddContact:function(t,e){this.$notify({message:e,type:t,timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})},notifyBadEmail:function(t){this.$notify({message:"Error : "+t+" is an incorrect mail format",type:"danger",timeout:2e3,horizontalAlign:"right",verticalAlign:"top"})}}},Cn=wn,xn=(r("4/3d"),Object(c["a"])(Cn,bn,yn,!1,null,null,null)),En=xn.exports,Sn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[void 0!==t.store.state.user.detailsUser?r("user-details-drawer"):t._e(),r("card",{staticClass:"card-plain"},[r("div",{staticClass:"table-full-width table-responsive"},[r("user-table",{attrs:{type:"hover",data:t.table.data,columns:t.table.columns,maxRow:t.table.data.length}})],1)])],1)},Rn=[],An=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table margin",class:t.tableClass},[s("thead",[t._t("columns",t._l(t.columns,function(e){return s("th",{key:e,staticClass:"capitalize"},[t._v(t._s(e)+" "),s("img",{staticClass:"filter-th",attrs:{src:r("uwTD")}})])}))],2),s("tbody",[t._l(t.data,function(e,a){return s("tr",{key:a},[t._t("default",t._l(t.columns,function(a,n){return s("td",{key:n,staticClass:"margin-td capitalize",staticStyle:{cursor:"pointer"},on:{click:function(r){t.setUserDetails(e)}}},[s("div",{staticClass:"container-table"},["status"===a&&"active"===e[a]?s("div",{staticClass:"valid"},[s("i",{staticClass:"ti-check light"})]):t._e(),"name"===a?s("div",[e.profile_picture?s("img",{staticClass:"table-profile-picture",attrs:{src:"data:image/png;base64,"+e.profile_picture}}):s("img",{staticClass:"table-profile-picture",attrs:{src:r("D3HO")}})]):t._e(),"status"===a&&"inactive"===e[a]?s("div",[s("i",{staticClass:"ti-close inactive"})]):t._e(),s("div",{staticClass:"table-data"},[s("span",[t._v(t._s(e[a]))])])])])}),{row:e})],2)}),s("div",{staticClass:"fixed-footer-separator"})],2)])])},jn=[],On={data:function(){return{store:wt,notificationToReturn:[],accessManagement:{admin:[],users:[]}}},props:{columns:Array,data:Array,type:{type:String,default:"striped"},maxRow:{type:Number,default:0},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass:function(){return"table-".concat(this.type)}},mounted:function(){},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]},setUserDetails:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=vt.a.filter(mt.contacts,{user:{id:e.id}}),t.next=3,dt.retrieveSharedKeyForUser(e.id);case 3:return r[0].shared_keys=t.sent,t.next=6,dt.retrieveLockDoorUserDetail(e.id);case 6:return r[0].logs=t.sent,this.store.state.user.indexShowAll=3,t.next=10,this.store.actions.SET_DETAILS_USER(r[0]);case 10:return t.sent,t.next=13,this.store.actions.OPEN_USER_DETAIL_DRAWER(!0);case 13:t.sent;case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},Pn=On,Tn=(r("m2cr"),Object(c["a"])(Pn,An,jn,!1,null,null,null)),In=Tn.exports,Nn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{toggled:!1===t.store.state.user.drawer},attrs:{id:"wrapper"}},[s("div",{attrs:{id:"sidebar-wrapper"}},[s("ul",{staticClass:"sidebar-nav"},[s("li",{staticClass:"sidebar-brand"},[s("transition",{attrs:{name:"fade"}},[!0===t.store.state.user.drawer?s("img",{staticClass:"close-icon close-img",attrs:{src:r("qxi6")},on:{click:function(e){t.store.actions.OPEN_USER_DETAIL_DRAWER(!1),t.store.state.user.indexShowAll=3}}}):t._e()])],1),s("center",[s("li",[s("transition",{attrs:{name:"fade"}},[t.store.state.user.detailsUser.profile_picture?s("img",{staticClass:"avatar-profile",attrs:{src:"data:image/png;base64,"+t.store.state.user.detailsUser.profile_picture}}):s("img",{staticClass:"avatar-profile",attrs:{src:r("D3HO")}})])],1),s("li",[s("span",{staticClass:"user-name"},[t._v(t._s(t.store.state.user.detailsUser.user.first_name)+" "+t._s(t.store.state.user.detailsUser.user.last_name)+" ")]),s("br"),s("span",{staticClass:"user-tag",attrs:{href:"#"}},[t._v(t._s(t.store.state.user.detailsUser.user.username))])]),s("br")]),t._m(0),s("hr"),s("li",{staticClass:"item"},[s("p",{staticClass:"sub-nav-user",attrs:{href:"#"}},[t._v("Has access to "+t._s(t.store.state.user.detailsUser.shared_keys.length)+" keys")]),3===t.store.state.user.indexShowAll&&t.store.state.user.detailsUser.shared_keys.length>4?s("span",{staticClass:"showAll",on:{click:function(e){t.expandShowAll()}}},[t._v("show all")]):t._e(),t.store.state.user.indexShowAll>=4?s("span",{staticClass:"showAll",on:{click:function(e){t.expandShowAll()}}},[t._v("close")]):t._e()]),t._l(t.store.state.user.detailsUser.shared_keys.slice(0,t.store.state.user.indexShowAll+1),function(e){return s("li",[s("span",{staticStyle:{display:"flex","margin-bottom":"5px"}},["active"===e.door_lock.existing_status?s("div",{staticClass:"valid"},[s("i",{staticClass:"ti-check light"})]):t._e(),"inactive"===e.door_lock.existing_status?s("div",[s("i",{staticClass:"ti-close inactive"})]):t._e(),t._v("\n                        "+t._s(e.door_lock.description)+"\n                        ")])])}),s("hr"),s("li",{staticClass:"item"},[s("p",{staticClass:"sub-nav-user",attrs:{href:"#"}},[t._v(t._s(t.store.state.user.detailsUser.user.first_name)+"'s activity")])]),t.store.state.user.detailsUser.logs.length>0?s("div",t._l(t.orderLog,function(e){return s("li",{staticClass:"item"},[s("p",{staticClass:"text-item"},["locked"===e.door_lock_status?s("span",[t._v("closed")]):s("span",[t._v("opened ")]),t._v("  "+t._s(t.getLockDoorFromId(e.door_lock_id)))]),s("p",{staticClass:"sub-log timing-user"},[s("span",[t._v(t._s(t.getDiffTime(e.created_at))+" ago")])])])})):t._e(),0===t.store.state.user.detailsUser.logs.length?s("li",[s("p",{staticClass:"text-item"},[t._v("No recent activity")])]):t._e()],2)])])},Dn=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"item-icon"},[s("li",{staticClass:"sub-item share-key"},[s("img",{attrs:{src:r("uT03")}}),s("span",{staticClass:"item-sub-text "},[t._v("share key")])]),s("li",{staticClass:"sub-item add-to-group"},[s("img",{attrs:{src:r("RNCx")}}),s("span",{staticClass:"item-sub-text "},[t._v(" add to a group")])]),s("li",{staticClass:"sub-item flag"},[s("img",{attrs:{src:r("pUO4")}}),s("span",{staticClass:"item-sub-text "},[t._v("flag")])])])}],Kn={data:function(){return{store:wt,userDataRepository:void 0}},computed:{orderLog:function(){return this.store.state.user.detailsUser.logs.sort(function(t,e){return new Date(e.created_at)-new Date(t.created_at)})}},methods:{expandShowAll:function(){return this.store.state.user.indexShowAll===this.store.state.user.detailsUser.shared_keys.length?this.store.state.user.indexShowAll=3:this.store.state.user.indexShowAll=this.store.state.user.detailsUser.shared_keys.length},getLockDoorFromId:function(t){return vt.a.filter(this.store.state.user.detailsUser.shared_keys,{door_lock_id:t})[0].door_lock.description},getDiffTime:function(t){var e=kt.a.utc(t).local(),r=kt.a.utc().local();return kt.a.duration(e.diff(r)).humanize()}}},Un=Kn,Mn=(r("wz7D"),Object(c["a"])(Un,Nn,Dn,!1,null,null,null)),$n=Mn.exports,zn={components:{UserTable:In,UserDetailsDrawer:$n},data:function(){return{table:{title:"",columns:["name","username","last activity"],dataCopy:[],data:[]},store:wt}},mounted:function(){var t=this;if(!window.sessionStorage.getItem("token"))return this.$router.push("login");dt.retrieveContacts().then(function(e){t.parseDataTable(mt.contacts),t.setMaxPagination(mt.contacts.length)})},methods:{setMaxPagination:function(t){t<=20?this.store.actions.SET_END_PAGINATION_USERS(t):this.store.actions.SET_END_PAGINATION_USERS(20)},parseDataTable:function(t){var e=this,r=[],s=t.map(function(t){return t.user.id});dt.retrieveContactPictures(s).then(function(s){s.forEach(function(e){t.forEach(function(t){e.user_id===t.user.id&&(t.profile_picture=e.base64)})}),t.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.push({id:s.user.id,profile_picture:s.profile_picture,name:s.user.first_name+" "+s.user.last_name,username:s.user.username,"last activity":e.getLastAcivity(s.last_activity)});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),e.table.data=r.concat()})},getLastAcivity:function(t){return t?this.getDiffTime(t.updated_at)+" ago":"No recent activity"},getDiffTime:function(t){var e=kt()(t),r=kt()(),s=kt.a.duration(r.diff(e)),a=s.asDays(),n=s.asYears(),i=s.asHours(),o=s.asMinutes(),c=s.asSeconds();return n>1?"1 years ":Math.round(a)>=1?Math.round(a)+" days":i>=1?i+" hours ":o>=1?o+" minutes ":c>=1?c+" seconds ":void 0}}},Bn=zn,Ln=(r("OUkJ"),Object(c["a"])(Bn,Sn,Rn,!1,null,null,null)),Gn=Ln.exports,Fn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"close-account-page",attrs:{src:r("qxi6")},on:{click:t.refreshForm}}),s("div",{staticClass:"form-stepper-new-contact"},[s("div",{staticClass:"jumbo"},[s("h2",[s("b",[s("span",{staticClass:"step"},[t._v(t._s(t.step)+" / 4")]),t._v(" "+t._s(t.title))])]),s("p")]),s("br"),1===t.step?s("keys"):t._e(),2===t.step?s("users"):t._e(),3===t.step?s("rights"):t._e(),4!==t.step||t.isSharing?t._e():s("access-details"),t.isSharing?s("div",[s("center",[s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])])],1):t._e(),s("img",{staticClass:"side-brand",attrs:{src:r("fv7C")}}),s("footer",{staticClass:"footer fixed"},[s("notifications",{staticClass:"alert-info",attrs:{group:"foo"}}),s("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-between"},[s("nav",[s("ul",[s("li",[t.step>1?s("button",{staticClass:"btn btn-primary outline back-button",on:{click:function(e){t.step--}}},[t._v("Back")]):t._e(),1===t.step?s("button",{staticClass:"btn btn-primary havr-color",attrs:{disabled:0===t.store.state.shareKey.lock_list_ids.length},on:{click:function(e){t.step++}}},[t._v("Next")]):t._e(),2===t.step?s("button",{staticClass:"btn btn-primary havr-color",attrs:{disabled:0===t.store.state.shareKey.user_list_ids.length},on:{click:function(e){t.step++}}},[t._v("Next")]):t._e(),3===t.step?s("button",{staticClass:"btn btn-primary havr-color",on:{click:function(e){t.step++}}},[t._v("Next")]):t._e(),4===t.step?s("button",{staticClass:"btn btn-primary havr-color",attrs:{disabled:t.isSharing},on:{click:t.shareKey}},[t._v("Share")]):t._e()])])]),s("div",{staticClass:"copyright d-flex flex-wrap"})])],1)],1)])},Hn=[],Yn=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",{staticClass:"sub-title-step"},[t._v("Set access slots and recurrent accesses")]),r("div",{staticClass:"users"},[r("div",{staticClass:"user-container"},[r("p",{staticClass:"name-container"},[r("span",{staticClass:"sub-label"},[t._v("Starting")]),r("datetime",{staticClass:"theme-orange",attrs:{"input-class":"custom-time-input",type:"datetime","min-datetime":t.minStartDate},model:{value:t.store.state.shareKey.start_date,callback:function(e){t.$set(t.store.state.shareKey,"start_date",e)},expression:"store.state.shareKey.start_date"}})],1)]),r("div",{staticClass:"user-container"},[r("p",{staticClass:"name-container"},[r("span",{staticClass:"sub-label"},[t._v("Ending")]),r("datetime",{staticClass:"theme-orange",attrs:{"input-class":"custom-time-input",disabled:!t.store.state.shareKey.start_date,"min-datetime":t.store.state.shareKey.start_date,type:"datetime"},model:{value:t.store.state.shareKey.end_date,callback:function(e){t.$set(t.store.state.shareKey,"end_date",e)},expression:"store.state.shareKey.end_date"}})],1)])])])},Wn=[],Jn=r("hZsf"),Vn={data:function(){return{store:wt,minStartDate:kt()().format()}},components:{Datetime:Jn["Datetime"]},methods:{}},Zn=Vn,qn=(r("DvMj"),Object(c["a"])(Zn,Yn,Wn,!1,null,"3b204c36",null)),Qn=qn.exports,Xn=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"sub-title-step"},[t._v(t._s(t.selectedUser)+" users selected. You can also "),s("span",{staticClass:"sub-title-actions",on:{click:function(e){t.setOrUnset(!0)}}},[t._v("select all")]),t._v(" or "),s("span",{staticClass:"sub-title-actions",on:{click:function(e){t.setOrUnset(!1)}}},[t._v("clear all")])]),s("div",{staticClass:"users"},t._l(t.users,function(e,a){return s("div",{key:e.id,staticClass:"user-container",on:{click:function(r){t.selectUser(e,a)}}},[e.picture?s("img",{staticClass:"avatar-activity",attrs:{src:"data:image/png;base64,"+e.picture}}):s("img",{staticClass:"avatar-activity",attrs:{src:r("D3HO")}}),s("span",{staticClass:"name-container"},[t._v(t._s(e.user.first_name)+"  "+t._s(e.user.last_name)+"\n        "),e.selected?s("img",{staticClass:"selected-img",attrs:{src:r("70GW")}}):t._e()])])}))])},ti=[],ei={data:function(){return{users:[],store:wt}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUsers();case 2:t.sent,this.store.state.shareKey.user_list_ids.length>0&&this.mapSelectedFromStore();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{selectedUser:function(){var t=vt.a.filter(this.users,{selected:!0}).length;return t}},methods:{getUsers:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,dt.retrieveContacts();case 2:return e=t.sent,t.next=5,dt.retrieveContactPictures(this.mapUsersId(e));case 5:r=t.sent,this.mapPictureProfile(r,e);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),mapUsersId:function(t){return t.map(function(t){return t.user.id})},mapPictureProfile:function(t,e){var r=this;e.map(function(e){e.selected=!1,t.map(function(t){e.user.id===t.user_id&&(e.picture=t.base64)}),r.users.push(e)})},mapSelectedFromStore:function(){var t=this;this.store.state.shareKey.user_list_ids.forEach(function(e){t.users.forEach(function(r,s){r.id===e&&(r.selected=!0,t.$set(t.users,s,r))})})},setOrUnset:function(t){var e=this;t&&this.notifySelection("All contacts selected"),t||this.notifySelection("All contacts unselected"),this.users.forEach(function(r,s){r.selected=t,e.$set(e.users,s,r)}),this.setUsersId()},notifySelection:function(t){this.$notify({message:t,type:"info",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"})},selectUser:function(t,e){t.selected=!t.selected,this.$set(this.users,e,t),this.setUsersId()},setUsersId:function(){var t=vt.a.filter(this.users,{selected:!0}),e=t.map(function(t){return t.user.id});this.store.actions.SET_SHARED_KEY_USERS(e)}}},ri=ei,si=(r("Jq8W"),Object(c["a"])(ri,Xn,ti,!1,null,"36e91d94",null)),ai=si.exports,ni=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"sub-title-step"},[t._v("You will be able to give timezone")]),s("div",{staticClass:"users"},[s("div",{staticClass:"user-container",on:{click:function(e){t.rightSelection(!1)}}},[s("img",{staticClass:"avatar-activity",attrs:{src:r("D3HO")}}),s("span",{staticClass:"name-container"},[t._v("User\n        "),s("p",{staticClass:"sub-title-rules"},[t._v("Can use the key")]),!1===t.selectedRight?s("img",{staticClass:"selected-img",attrs:{src:r("70GW")}}):t._e()])]),s("div",{staticClass:"user-container",on:{click:function(e){t.rightSelection(!0)}}},[s("img",{staticClass:"avatar-activity",attrs:{src:r("BZxc")}}),s("span",{staticClass:"name-container"},[t._v("Admin\n         "),s("p",{staticClass:"sub-title-rules"},[t._v("Can use and share the key")]),!0===t.selectedRight?s("img",{staticClass:"selected-img",attrs:{src:r("70GW")}}):t._e()])])])])},ii=[],oi={data:function(){return{selectedRight:!1,store:wt}},mounted:function(){this.selectedRight=this.store.state.shareKey.admin},methods:{rightSelection:function(t){this.selectedRight=t,this.store.actions.SET_RIGHTS_SHARED_KEY(t)}}},ci=oi,ui=(r("QOsA"),Object(c["a"])(ci,ni,ii,!1,null,"7b910db6",null)),li=ui.exports,pi=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"sub-title-step"},[t._v(t._s(t.store.state.shareKey.lock_list_ids.length)+" keys selected. You can also "),s("span",{staticClass:"sub-title-actions",on:{click:function(e){t.setOrUnset(!0)}}},[t._v("select all")]),t._v(" or "),s("span",{staticClass:"sub-title-actions",on:{click:function(e){t.setOrUnset(!1)}}},[t._v("clear all")])]),s("div",{staticClass:"users"},t._l(t.groups,function(e,a){return e.doorOwned.length>0?s("div",{key:e.description,staticClass:"user-container",class:{"open-container":e.showDetail}},[s("div",{on:{click:function(r){t.setActive(e,a)}}},[s("span",{staticClass:"name-container"},["personal"!==e.lock_group_type?s("img",{staticClass:"avatar-activity",attrs:{src:r("Tvy3")}}):s("div",{staticClass:"personal-container"},[s("img",{staticClass:"avatar-activity",attrs:{src:r("GBXQ")}})]),s("ul",{staticClass:"group-list"},[s("li",[s("span",[t._v(t._s(t.getGroupName(e.parent,e.description,e.parent_lock_group)))])]),s("li",{staticClass:"sub-title-rules"},[t._v(t._s(e.doorOwned.length)+" keys")])]),s("img",{staticClass:"selected-img",class:{"active-arrow":e.showDetail,"inactive-arrow":!e.showDetail},attrs:{disabled:0===e.doorOwned.length,src:r("zi03")}})])]),t._l(e.doorOwned,function(n,i){return e.showDetail?s("div",{key:n.id,staticClass:"lock-container",on:{click:function(e){t.chooseKey(n,a,i)}}},[s("p",{staticClass:"lock-label"},[t._v(t._s(n.description)+" "),n.selected?s("img",{staticClass:"selected-img",attrs:{src:r("70GW")}}):t._e()])]):t._e()}),s("hr",{staticClass:"group-separator"})],2):t._e()}))])},di=[],mi={data:function(){return{store:wt,groups:[],selectedKeys:[],selectedGroups:[]}},mounted:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.store.state.shareKey.shallowCopy.length>0)){t.next=2;break}return t.abrupt("return",this.groups=this.store.state.shareKey.shallowCopy);case 2:return t.next=4,this.getDoorlocksWithGroups();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{getDoorlocksWithGroups:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,r,s,a,n,i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=vt.a,t.next=3,_t.retrieveSharedKeys();case 3:return t.t1=t.sent,t.t2={admin:!0},e=t.t0.filter.call(t.t0,t.t1,t.t2),t.next=8,_t.getLockGroupsWithDoorlocks();case 8:return r=t.sent,s=r.lock_groups,a=r.door_locks,n=e.map(function(t){return t.door_lock.lock_group_id}),t.next=14,Promise.all(n.map(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLockGroupFromId(e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 14:return i=t.sent,o=vt.a.uniqBy(i,"id").map(function(t){return Object(ot["a"])({},t,{doorOwned:vt.a.uniqBy(vt.a.filter(e,{door_lock:{lock_group_id:t.id}}),"description"),showDetail:!1})}),a.map(function(t){t.selected=!1}),s.map(function(t){t.doorOwned=[],t.showDetail=!1,t.parent=null,t.locks.map(function(e){vt.a.uniqBy(t.doorOwned.push(vt.a.filter(a,{id:e})[0]),"description")}),t.doorOwned.forEach(function(t){return t.door_lock_id=t.id})}),t.next=20,this.setData(s,o);case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),setActive:function(t,e){t.showDetail=!t.showDetail,this.$set(this.groups,e,t)},getGroupName:function(t,e,r){return r?r.description:t||e},setData:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,r){var s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.forEach(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.getLockGroupFromId(e.lock_group_id);case 2:return t.abrupt("return",e.parent=t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),r.forEach(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.getLockGroupFromId(e.lock_group_id);case 2:return t.abrupt("return",e.parent=t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),this.groups=Object(it["a"])(e).concat(Object(it["a"])(r));case 3:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}(),chooseKey:function(t,e,r){t.selected?t.selected=!1:t.selected=!0,this.$set(this.groups[e].doorOwned[r],e,t),this.createObjectForStore()},createObjectForStore:function(){var t=this;this.selectedKeys=[],this.selectedGroups=[];var e=vt.a.filter(this.groups,{doorOwned:[{selected:!0}]});e.forEach(function(e){e.doorOwned.forEach(function(r){r.selected&&(t.selectedKeys.push(r.door_lock_id),t.selectedGroups.push(e.lock_group_id))})}),this.store.actions.SET_SHARED_KEYS_TO_SHARE(vt.a.uniq(this.selectedKeys)),this.store.state.shareKey.shallowCopy=this.groups},getLockGroupFromId:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t.getLockGroupFromId(e);case 2:if(r=t.sent,void 0===r||r.error){t.next=5;break}return t.abrupt("return",r.description);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),setOrUnset:function(t){t&&this.notifySelection("All key selected"),t||this.notifySelection("All key unselected"),this.groups.forEach(function(e,r){e.doorOwned.forEach(function(e){e&&(e.selected=t)})}),this.$set(this.groups),this.createObjectForStore()},notifySelection:function(t){this.$notify({message:t,type:"info",horizontalAlign:"right",timeout:2e3,verticalAlign:"top"})}}},hi=mi,fi=(r("Vjcm"),Object(c["a"])(hi,pi,di,!1,null,"1149db92",null)),gi=fi.exports,vi={data:function(){return{step:1,store:wt,end_copy:null,start_copy:null,isSharing:!1,form:{start_date:kt()().format(),end_date:null,start_on_demand:null,end__on_demand:null,admin:!1,recurrency:"none",on_demand:!1,lock_group_ids:[],user_list_ids:[],lock_list_ids:[],shallowCopy:[]}}},components:{Users:ai,Rights:li,Keys:gi,AccessDetails:Qn},computed:{title:function(){return 1===this.step?"What key(s) do you want to share":2===this.step?"Who will be the users ?":3===this.step?"What rights should they have ?":4===this.step?"Access details":void 0}},mounted:function(){var t=this;if(!window.sessionStorage.getItem("token"))return this.$router.push("login");window.onbeforeunload=Object(h["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:window.setTimeout(Object(h["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.store.actions.REFRESH_SHARE_KEY_FORM(t.form);case 2:e.sent,t.$router.go(-1);case 4:case"end":return e.stop()}},e,this)})),0),window.onbeforeunload=null;case 2:case"end":return e.stop()}},e,this)}))},methods:{shareKey:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isSharing=!0,delete this.store.state.shareKey.shallowCopy,this.start_copy=this.store.state.shareKey.start_date,this.end_copy=this.store.state.shareKey.end_date,this.store.state.shareKey.start_date=kt()(this.store.state.shareKey.start_date).format("YYYY-MM-DDTHH:mm")+":00Z",this.store.state.shareKey.end_date&&(this.store.state.shareKey.end_date=kt()(this.store.state.shareKey.end_date).format("YYYY-MM-DDTHH:mm")+":00Z"),t.next=8,_t.shareKey(this.store.state.shareKey);case 8:e=t.sent,201===e?(this.notifyShare("success","Keys has been shared with success"),this.refreshForm(),this.isSharing=!1,window.location.href="/#/keychain"):(this.notifyShare("danger","Internal error during the sharing key process, please retry later."),this.store.state.shareKey.start_date=this.start_copy,this.store.state.shareKey.end_date&&(this.store.state.shareKey.end_date=this.end_copy)),this.isSharing=!1;case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),refreshForm:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.store.actions.REFRESH_SHARE_KEY_FORM(this.form);case 2:t.sent,this.$router.push("/keychain");case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),notifyShare:function(t,e){this.$notify({message:e,type:t,horizontalAlign:"right",timeout:3e3,verticalAlign:"top"})}}},_i=vi,bi=(r("g+WS"),Object(c["a"])(_i,Fn,Hn,!1,null,"6d1e265c",null)),yi=bi.exports,ki=[{path:"/",component:Re,redirect:"/keychain",children:[{path:"keychain-map",name:"Keychain-map",component:la},{path:"keychain-map-list",name:"Keychain-map-list",component:ga},{path:"keychain-map-details",name:"Keychain-map-details",component:ys},{path:"keychain-map-edit",name:"Keychain-map-edit",component:_n},{path:"keychain",name:"Keychain",props:{description:"Use filters to narrow down to a particular group, status, users…"},component:ts},{path:"users",name:"Users",props:{description:"Use filters to find user, user group, or user activity..."},component:Gn},{path:"overview",name:"Overview",component:dn}]},{path:"/new-contact",component:En},{path:"/share-key",component:yi},{path:"*",component:Re},{path:"/login",component:Ie},{path:"/create-account",component:cs},{path:"/forgot-password",component:Ss},{path:"/edit-profil",component:Pa},{path:"/my-devices",component:Fa},{path:"/send-feedback",component:rn}],wi=ki;s["default"].use(p["a"]);var Ci=new p["a"]({routes:wi,linkActiveClass:"active"}),xi=Ci,Ei=r("c0Y5"),Si=r.n(Ei),Ri={install:function(t){t.component("fg-input",Be),t.component("drop-down",We),t.component("card",mr),t.component("p-button",or)}},Ai=Ri,ji=r("x9sl"),Oi={install:function(t){t.directive("click-outside",ji["directive"])}},Pi=Oi,Ti=(r("VLrD"),r("+eM2"),r("DgDO"),r("5FRv"),{install:function(t){t.use(Ai),t.use(Pi),t.use(Fr),t.use(Si.a)}});r("01VR"),r("cuC8");s["default"].component("datetime",Jn["Datetime"]),s["default"].use(Ti,qe.a,Jn["Datetime"]),new s["default"]({router:xi,render:function(t){return t(l)}}).$mount("#app")},W193:function(t,e,r){"use strict";var s=r("S0BH"),a=r.n(s);a.a},WCCi:function(t,e,r){},WDdm:function(t,e,r){t.exports=r.p+"img/dot-key-selector-disabled.bfe4658d.svg"},WMk7:function(t,e,r){"use strict";var s=r("4juU"),a=r.n(s);a.a},Xdg3:function(t,e,r){},ZL7j:function(t,e,r){"use strict";var s=r("RtZ0"),a=r.n(s);a.a},aU06:function(t,e,r){},agjt:function(t,e,r){t.exports=r.p+"img/alert.65b8614f.svg"},ajWj:function(t,e,r){},alHn:function(t,e,r){"use strict";var s=r("E0Mp"),a=r.n(s);a.a},b6Fh:function(t,e,r){},bCEC:function(t,e,r){},bKco:function(t,e,r){t.exports=r.p+"img/battery.b2f9107c.svg"},bcA2:function(t,e,r){"use strict";var s=r("wuOF"),a=r.n(s);a.a},bhrD:function(t,e,r){t.exports=r.p+"img/apple-icon.3db1c217.svg"},"c/Al":function(t,e,r){"use strict";var s=r("gjnt"),a=r.n(s);a.a},d38g:function(t,e,r){},dZ6W:function(t,e,r){},dur9:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gaadiex-list"},[s("div",{staticClass:"gaadiex-list-item"},[s("img",{staticClass:"gaadiex-list-item-img",attrs:{src:r("LmWP"),alt:"List user"}}),s("div",{staticClass:"gaadiex-list-item-text"},[s("p",{staticClass:"custom-p-size header-name"},[t._v("Amanda Dumel")]),s("p",{staticClass:"sub-title-user-activity custom-p-size"},[t._v("opened 3min ago")])])]),s("div",{staticClass:"gaadiex-list-item"},[s("img",{staticClass:"gaadiex-list-item-img",attrs:{src:r("LmWP"),alt:"List user"}}),s("div",{staticClass:"gaadiex-list-item-text"},[s("p",{staticClass:"custom-p-size header-name"},[t._v("Amanda Dumel")]),s("p",{staticClass:"sub-title-user-activity custom-p-size"},[t._v("opened 3min ago")])])]),s("div",{staticClass:"gaadiex-list-item"},[s("img",{staticClass:"gaadiex-list-item-img",attrs:{src:r("LmWP"),alt:"List user"}}),s("div",{staticClass:"gaadiex-list-item-text"},[s("p",{staticClass:"custom-p-size header-name"},[t._v("Amanda Dumel")]),s("p",{staticClass:"sub-title-user-activity custom-p-size"},[t._v("opened 3min ago")])])]),s("div",{staticClass:"gaadiex-list-item"},[s("img",{staticClass:"gaadiex-list-item-img",attrs:{src:r("LmWP"),alt:"List user"}}),s("div",{staticClass:"gaadiex-list-item-text"},[s("p",{staticClass:"custom-p-size header-name"},[t._v("Amanda Dumel")]),s("p",{staticClass:"sub-title-user-activity custom-p-size"},[t._v(" opened 3min ago")])])])])}];r.d(e,"a",function(){return s}),r.d(e,"b",function(){return a})},e4Sz:function(t,e,r){"use strict";var s=r("E7pm"),a=r.n(s);a.a},e94g:function(t,e,r){},eB5c:function(t,e,r){"use strict";var s=r("jC+e"),a=r.n(s);e["default"]=a.a},ebDG:function(t,e,r){"use strict";var s=r("510h"),a=r.n(s);a.a},fv7C:function(t,e,r){t.exports=r.p+"img/havr-side-brand.5141f175.png"},"g+WS":function(t,e,r){"use strict";var s=r("WCCi"),a=r.n(s);a.a},gEPL:function(t,e,r){"use strict";var s=r("pcSS"),a=r.n(s);a.a},gH3j:function(t,e,r){"use strict";var s=r("CaBX"),a=r.n(s);a.a},gY9p:function(t,e,r){"use strict";var s=r("vDXk"),a=r.n(s);a.a},gjnt:function(t,e,r){},gjwi:function(t,e,r){t.exports=r.p+"img/overview.67957075.svg"},gqR0:function(t,e,r){},h3yY:function(t,e,r){"use strict";var s=r("kBQD"),a=r.n(s);a.a},iJxc:function(t,e,r){t.exports=r.p+"img/see-map.4151d47d.svg"},iP2a:function(t,e,r){"use strict";var s=r("QHyd"),a=r.n(s);a.a},im3h:function(t,e,r){"use strict";var s=r("oxAA"),a=r.n(s);a.a},"jC+e":function(t,e){},kBQD:function(t,e,r){},kESj:function(t,e,r){"use strict";var s=r("e94g"),a=r.n(s);a.a},"kqR+":function(t,e,r){"use strict";var s=r("3Iqb"),a=r.n(s);a.a},kv91:function(t,e,r){},lFcT:function(t,e,r){},lLE7:function(t,e,r){t.exports=r.p+"img/filterIcon.534cd66f.svg"},lNbI:function(t,e,r){},m2cr:function(t,e,r){"use strict";var s=r("HBEK"),a=r.n(s);a.a},nfVs:function(t,e,r){},oQrJ:function(t,e,r){"use strict";var s=r("Nlfg"),a=r.n(s);a.a},oxAA:function(t,e,r){},pUO4:function(t,e,r){t.exports=r.p+"img/flag.d7db2990.svg"},pcSS:function(t,e,r){},qxi6:function(t,e,r){t.exports=r.p+"img/close-drawer-icon.c56ffac4.svg"},rMqU:function(t,e,r){},s4kg:function(t,e,r){t.exports=r.p+"img/left-arrow.a092937c.png"},s6yX:function(t,e,r){t.exports=r.p+"img/havrassembly@3x.be5a87d6.png"},s8cg:function(t,e,r){"use strict";var s=r("9zfB"),a=r.n(s);a.a},sHPP:function(t,e,r){"use strict";var s=r("5yDP"),a=r.n(s);a.a},sUPs:function(t,e,r){"use strict";var s=r("rMqU"),a=r.n(s);a.a},sYXL:function(t,e,r){"use strict";var s=r("8+Jw"),a=r.n(s);a.a},taJw:function(t,e,r){},toxv:function(t,e,r){t.exports=r.p+"img/profil-arrow.7d5c998b.png"},uQn7:function(t,e,r){},uT03:function(t,e,r){t.exports=r.p+"img/share.9ae74d45.svg"},uZtx:function(t,e,r){},unA0:function(t,e,r){t.exports=r.p+"img/keychain-active.f9c82186.svg"},uouN:function(t,e,r){t.exports=r.p+"img/locked.61768976.svg"},ut8J:function(t,e,r){"use strict";var s=r("zpxp"),a=r.n(s);a.a},uwTD:function(t,e,r){t.exports=r.p+"img/filterTableIcon.818f475c.svg"},v31x:function(t,e,r){t.exports=r.p+"img/map-marker.ad5fe5c4.svg"},v3hs:function(t,e,r){},vDXk:function(t,e,r){},vEnJ:function(t,e,r){"use strict";var s=r("aU06"),a=r.n(s);a.a},wGdV:function(t,e,r){"use strict";var s=r("3cbF"),a=r.n(s);a.a},wuOF:function(t,e,r){},wz7D:function(t,e,r){"use strict";var s=r("uZtx"),a=r.n(s);a.a},yDIJ:function(t,e,r){"use strict";var s=r("2+eZ"),a=r.n(s);a.a},yGZV:function(t,e,r){t.exports=r.p+"img/progress.54ea5ce8.svg"},yKqn:function(t,e,r){},ykFJ:function(t,e,r){"use strict";var s=r("taJw"),a=r.n(s);a.a},zAMz:function(t,e,r){"use strict";var s=r("v3hs"),a=r.n(s);a.a},zi03:function(t,e,r){t.exports=r.p+"img/right-arrow.7db7a23a.svg"},zpxp:function(t,e,r){}});
//# sourceMappingURL=app.d603ec88.js.map